2025-04-21 11:59:11,076 - INFO - [<module>] - Logging configured. Log file: Selenium-Logs\app_20250421_115911.log
2025-04-21 11:59:11,076 - INFO - [<module>] - Flask application initialized.
2025-04-21 11:59:11,094 - INFO - [<module>] - Starting Flask development server...
2025-04-21 11:59:11,144 - INFO - [_log] - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.1.21:5000
2025-04-21 11:59:11,145 - INFO - [_log] - [33mPress CTRL+C to quit[0m
2025-04-21 11:59:11,147 - INFO - [_log] -  * Restarting with stat
2025-04-21 11:59:11,975 - INFO - [<module>] - Logging configured. Log file: Selenium-Logs\app_20250421_115911.log
2025-04-21 11:59:11,976 - INFO - [<module>] - Flask application initialized.
2025-04-21 11:59:11,983 - INFO - [<module>] - Starting Flask development server...
2025-04-21 11:59:12,019 - WARNING - [_log] -  * Debugger is active!
2025-04-21 11:59:12,031 - INFO - [_log] -  * Debugger PIN: 107-410-311
2025-04-21 11:59:14,699 - INFO - [index] - Serving index page.
2025-04-21 11:59:14,726 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 11:59:14] "GET / HTTP/1.1" 200 -
2025-04-21 11:59:14,748 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 11:59:14] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-21 12:00:36,200 - INFO - [initiate_upload] - Received request to initiate upload.
2025-04-21 12:00:36,200 - INFO - [initiate_upload] - Saving temporary file for upload_id 'fe748039-8f85-4ba2-8c81-faeb72cfe3ab' to 'uploads_temp\fe748039-8f85-4ba2-8c81-faeb72cfe3ab_bot.py'
2025-04-21 12:00:36,200 - INFO - [initiate_upload] - Temporary file saved successfully for 'bot.py' (ID: fe748039-8f85-4ba2-8c81-faeb72cfe3ab).
2025-04-21 12:00:36,200 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:36] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-21 12:00:36,215 - INFO - [stream_progress] - SSE connection request for upload_id: fe748039-8f85-4ba2-8c81-faeb72cfe3ab
2025-04-21 12:00:36,216 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Starting processing...
2025-04-21 12:00:36,216 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Processing upload: User='siren', File='bot.py', TempPath='uploads_temp\fe748039-8f85-4ba2-8c81-faeb72cfe3ab_bot.py'
2025-04-21 12:00:36,217 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Original temp file size: 2350 bytes.
2025-04-21 12:00:36,217 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:36] "GET /stream-progress/fe748039-8f85-4ba2-8c81-faeb72cfe3ab HTTP/1.1" 200 -
2025-04-21 12:00:36,218 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] 'bot.py' is small. Compressing and sending as single file.
2025-04-21 12:00:36,224 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Compressed 'bot.py' to 1072 bytes.
2025-04-21 12:00:36,226 - INFO - [send_file_to_telegram] - Sending file 'bot.py.zip' to Telegram chat ID: -4603853425
2025-04-21 12:00:37,262 - INFO - [send_file_to_telegram] - Telegram API success for 'bot.py.zip'.
2025-04-21 12:00:37,263 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Single file 'bot.py' sent successfully.
2025-04-21 12:00:37,265 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-21 12:00:37,273 - INFO - [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-21 12:00:37,274 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Entering final cleanup.
2025-04-21 12:00:37,276 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Successfully deleted original temporary file: uploads_temp\fe748039-8f85-4ba2-8c81-faeb72cfe3ab_bot.py
2025-04-21 12:00:37,289 - INFO - [process_upload_and_generate_updates] - [fe748039-8f85-4ba2-8c81-faeb72cfe3ab] Processing finished with status: completed_metadata_error
2025-04-21 12:00:44,374 - INFO - [get_file_by_access_id] - Received request for access_id: 07c85d6dd9
2025-04-21 12:00:44,396 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-21 12:00:44,397 - INFO - [get_file_by_access_id] - Found file 'bot.py' for user 'siren' with access_id '07c85d6dd9'. Rendering download page.
2025-04-21 12:00:44,406 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:44] "GET /get/07c85d6dd9 HTTP/1.1" 200 -
2025-04-21 12:00:46,206 - INFO - [prepare_download_stream] - [bcd4931c-9162-45b3-99d6-34346f6a5fe8] SSE connection request for download prep: User='testuser', File='example.zip'
2025-04-21 12:00:46,209 - INFO - [_prepare_download_and_generate_updates] - [bcd4931c-9162-45b3-99d6-34346f6a5fe8] Starting download preparation generator...
2025-04-21 12:00:46,209 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:46] "GET /prepare-download/testuser/example.zip HTTP/1.1" 200 -
2025-04-21 12:00:46,413 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-21 12:00:46,413 - ERROR - [_prepare_download_and_generate_updates] - [bcd4931c-9162-45b3-99d6-34346f6a5fe8] Download preparation failed: File 'example.zip' not found.
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 1147, in _prepare_download_and_generate_updates
    if not file_info: raise FileNotFoundError(f"File '{filename}' not found.")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: File 'example.zip' not found.
2025-04-21 12:00:46,413 - INFO - [_prepare_download_and_generate_updates] - [bcd4931c-9162-45b3-99d6-34346f6a5fe8] Cleaning up temp files due to prep error.
2025-04-21 12:00:46,413 - INFO - [_prepare_download_and_generate_updates] - [bcd4931c-9162-45b3-99d6-34346f6a5fe8] Generator finished with status: error
2025-04-21 12:00:47,053 - INFO - [prepare_download_stream] - [011e46c0-c129-428e-a6cb-9555ff07844d] SSE connection request for download prep: User='testuser', File='example.zip'
2025-04-21 12:00:47,053 - INFO - [_prepare_download_and_generate_updates] - [011e46c0-c129-428e-a6cb-9555ff07844d] Starting download preparation generator...
2025-04-21 12:00:47,053 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:47] "GET /prepare-download/testuser/example.zip HTTP/1.1" 200 -
2025-04-21 12:00:47,257 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-21 12:00:47,257 - ERROR - [_prepare_download_and_generate_updates] - [011e46c0-c129-428e-a6cb-9555ff07844d] Download preparation failed: File 'example.zip' not found.
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 1147, in _prepare_download_and_generate_updates
    if not file_info: raise FileNotFoundError(f"File '{filename}' not found.")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: File 'example.zip' not found.
2025-04-21 12:00:47,263 - INFO - [_prepare_download_and_generate_updates] - [011e46c0-c129-428e-a6cb-9555ff07844d] Cleaning up temp files due to prep error.
2025-04-21 12:00:47,265 - INFO - [_prepare_download_and_generate_updates] - [011e46c0-c129-428e-a6cb-9555ff07844d] Generator finished with status: error
2025-04-21 12:00:47,993 - INFO - [prepare_download_stream] - [4eaf8b15-e1b0-44ce-9714-06f794460a42] SSE connection request for download prep: User='testuser', File='example.zip'
2025-04-21 12:00:47,993 - INFO - [_prepare_download_and_generate_updates] - [4eaf8b15-e1b0-44ce-9714-06f794460a42] Starting download preparation generator...
2025-04-21 12:00:47,993 - INFO - [_log] - 127.0.0.1 - - [21/Apr/2025 12:00:47] "GET /prepare-download/testuser/example.zip HTTP/1.1" 200 -
2025-04-21 12:00:48,201 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-21 12:00:48,202 - ERROR - [_prepare_download_and_generate_updates] - [4eaf8b15-e1b0-44ce-9714-06f794460a42] Download preparation failed: File 'example.zip' not found.
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 1147, in _prepare_download_and_generate_updates
    if not file_info: raise FileNotFoundError(f"File '{filename}' not found.")
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: File 'example.zip' not found.
2025-04-21 12:00:48,204 - INFO - [_prepare_download_and_generate_updates] - [4eaf8b15-e1b0-44ce-9714-06f794460a42] Cleaning up temp files due to prep error.
2025-04-21 12:00:48,205 - INFO - [_prepare_download_and_generate_updates] - [4eaf8b15-e1b0-44ce-9714-06f794460a42] Generator finished with status: error
