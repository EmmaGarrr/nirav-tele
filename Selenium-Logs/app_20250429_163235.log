2025-04-29 16:32:35,804 - INFO - [MainThread] [<module>] - ============================================================
2025-04-29 16:32:35,805 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250429_163235.log
2025-04-29 16:32:35,805 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-04-29 16:32:35,805 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425']
2025-04-29 16:32:35,805 - INFO - [MainThread] [<module>] - Chunk Size: 41943040 bytes
2025-04-29 16:32:35,806 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-04-29 16:32:35,806 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-04-29 16:32:35,808 - INFO - [MainThread] [<module>] - Max Upload Workers: 3
2025-04-29 16:32:35,808 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-04-29 16:32:35,809 - INFO - [MainThread] [<module>] - ============================================================
2025-04-29 16:32:35,809 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-04-29 16:32:35,809 - INFO - [MainThread] [<module>] - Utility functions defined.
2025-04-29 16:32:35,815 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-04-29 16:32:35,815 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-04-29 16:32:35,816 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-04-29 16:32:35,816 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-04-29 16:32:35,819 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-04-29 16:32:35,819 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-04-29 16:32:35,819 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-04-29 16:32:35,819 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-04-29 16:32:36,281 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-04-29 16:32:36,281 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-04-29 16:32:36,287 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-04-29 16:32:36,287 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-04-29 16:32:36,318 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-04-29 16:32:36,319 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-04-29 16:32:39,921 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-04-29 16:32:39,978 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:39] "GET / HTTP/1.1" 200 -
2025-04-29 16:32:50,560 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-04-29 16:32:50,560 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Temp storage: uploads_temp\e186bd3f-9cba-4cee-8b73-b72f7e2f309a_download_page (6).html
2025-04-29 16:32:50,560 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Temp saved: 'download_page (6).html'.
2025-04-29 16:32:50,563 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:50] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-29 16:32:50,572 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: e186bd3f-9cba-4cee-8b73-b72f7e2f309a
2025-04-29 16:32:50,574 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Starting processing generator...
2025-04-29 16:32:50,574 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Processing: User='ELENA', File='download_page (6).html'
2025-04-29 16:32:50,575 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:50] "GET /stream-progress/e186bd3f-9cba-4cee-8b73-b72f7e2f309a HTTP/1.1" 200 -
2025-04-29 16:32:50,576 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Access ID: a9e861da1a
2025-04-29 16:32:50,576 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Single file workflow.
2025-04-29 16:32:50,618 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Compressed size: 4409
2025-04-29 16:32:50,618 - INFO - [Thread-4 (process_request_thread)] [_send_single_file_task] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] T> Sending 'download_page (6).zip' (4409b) to -4603853425
2025-04-29 16:32:50,618 - INFO - [Thread-4 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'download_page (6).zip'] Attempting send.
2025-04-29 16:32:51,475 - INFO - [Thread-4 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'download_page (6).zip'] API success (Attempt 1).
2025-04-29 16:32:51,476 - INFO - [Thread-4 (process_request_thread)] [_send_single_file_task] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] T> Sent 'download_page (6).zip' to -4603853425. Success: True
2025-04-29 16:32:51,476 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Single sends done in 0.86s.
2025-04-29 16:32:51,477 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Success: 1/1
2025-04-29 16:32:51,490 - INFO - [Thread-4 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-29 16:32:51,499 - INFO - [Thread-4 (process_request_thread)] [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-29 16:32:51,500 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Upload generator cleanup.
2025-04-29 16:32:51,502 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Cleaned up original temp: uploads_temp\e186bd3f-9cba-4cee-8b73-b72f7e2f309a_download_page (6).html
2025-04-29 16:32:51,503 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [e186bd3f-9cba-4cee-8b73-b72f7e2f309a] Upload generator finished. Status: completed
2025-04-29 16:32:57,366 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-04-29 16:32:57,379 - INFO - [Thread-5 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-29 16:32:57,379 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - Found 3 records for 'ELENA'.
2025-04-29 16:32:57,380 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:57] "GET /files/ELENA HTTP/1.1" 200 -
2025-04-29 16:32:58,610 - INFO - [Thread-6 (process_request_thread)] [prepare_download_stream] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] SSE download prep request: User='ELENA', File='download_page (6).html'
2025-04-29 16:32:58,611 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Download prep generator started.
2025-04-29 16:32:58,612 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:58] "GET /prepare-download/ELENA/download_page%20(6).html HTTP/1.1" 200 -
2025-04-29 16:32:58,715 - INFO - [Thread-6 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-29 16:32:58,715 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Meta: 'download_page (6).html', User:ELENA, Size:15204, Split:False, Comp:True
2025-04-29 16:32:58,918 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Preparing non-split file.
2025-04-29 16:32:58,920 - WARNING - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Comp size missing single.
2025-04-29 16:32:58,921 - INFO - [Thread-6 (process_request_thread)] [download_telegram_file_content] - [FileID BQACAgUAAxkDAAIE4WgQsdsM2BgtONUAAUDyif9_lO3W3AACkxUAAmz5gFRQd7hIi8iuuDYE] Attempting download.
2025-04-29 16:32:59,479 - INFO - [Thread-6 (process_request_thread)] [download_telegram_file_content] - [FileID BQACAgUAAxkDAAIE4WgQsdsM2BgtONUAAUDyif9_lO3W3AACkxUAAmz5gFRQd7hIi8iuuDYE] Got DL URL (Attempt 1): https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_546.zip
2025-04-29 16:32:59,479 - INFO - [Thread-6 (process_request_thread)] [download_telegram_file_content] - [FileID BQACAgUAAxkDAAIE4WgQsdsM2BgtONUAAUDyif9_lO3W3AACkxUAAmz5gFRQd7hIi8iuuDYE] Attempting content download from URL.
2025-04-29 16:32:59,636 - INFO - [Thread-6 (process_request_thread)] [download_telegram_file_content] - [FileID BQACAgUAAxkDAAIE4WgQsdsM2BgtONUAAUDyif9_lO3W3AACkxUAAmz5gFRQd7hIi8iuuDYE] Downloaded 4409 bytes (Attempt 1).
2025-04-29 16:32:59,637 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] TG dl (4409 bytes) in 0.72s. Avg Speed: 0.01 MB/s
2025-04-29 16:32:59,647 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Final file ready: 'E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_12101ec0-e72c-445d-a9de-b3d8e52217bc_rl_8u6t6', Size: 15204.
2025-04-29 16:32:59,748 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Prep complete. Sent 'ready'.
2025-04-29 16:32:59,750 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Download prep generator cleanup.
2025-04-29 16:32:59,750 - INFO - [Thread-6 (process_request_thread)] [_prepare_download_and_generate_updates] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Download prep generator task ended.
2025-04-29 16:32:59,766 - INFO - [Thread-7 (process_request_thread)] [serve_temp_file] - Request serve temp file ID: 12101ec0-e72c-445d-a9de-b3d8e52217bc, Filename: download_page (6).html
2025-04-29 16:32:59,769 - INFO - [Thread-7 (process_request_thread)] [serve_temp_file] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Preparing streaming response for 'download_page (6).html'.
2025-04-29 16:32:59,771 - INFO - [Thread-7 (process_request_thread)] [generate_stream] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Scheduled cleanup in 120s for path: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_12101ec0-e72c-445d-a9de-b3d8e52217bc_rl_8u6t6
2025-04-29 16:32:59,800 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:32:59] "GET /serve-temp-file/12101ec0-e72c-445d-a9de-b3d8e52217bc/download_page%20(6).html HTTP/1.1" 200 -
2025-04-29 16:32:59,800 - INFO - [Thread-7 (process_request_thread)] [generate_stream] - [12101ec0-e72c-445d-a9de-b3d8e52217bc] Finished streaming file.
2025-04-29 16:33:02,216 - INFO - [Thread-8 (process_request_thread)] [delete_file_record] - DELETE request user='ELENA', file='download_page (6).html'
2025-04-29 16:33:02,217 - INFO - [Thread-8 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-29 16:33:02,217 - INFO - [Thread-8 (process_request_thread)] [delete_file_record] - Removed 1 record(s) for 'download_page (6).html' user 'ELENA'.
2025-04-29 16:33:02,229 - INFO - [Thread-8 (process_request_thread)] [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-29 16:33:02,229 - INFO - [Thread-8 (process_request_thread)] [delete_file_record] - Saved metadata after delete.
2025-04-29 16:33:02,229 - INFO - [Thread-8 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:33:02] "DELETE /delete-file/ELENA/download_page%20(6).html HTTP/1.1" 200 -
2025-04-29 16:33:09,890 - INFO - [Thread-10 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-04-29 16:33:12,168 - INFO - [Thread-10 (process_request_thread)] [initiate_upload] - [3dff7286-0293-4165-a375-f9af29dccc06] Temp storage: uploads_temp\3dff7286-0293-4165-a375-f9af29dccc06_test download (1) (5) (1) (1).mkv
2025-04-29 16:33:12,359 - INFO - [Thread-10 (process_request_thread)] [initiate_upload] - [3dff7286-0293-4165-a375-f9af29dccc06] Temp saved: 'test download (1) (5) (1) (1).mkv'.
2025-04-29 16:33:12,369 - INFO - [Thread-10 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:33:12] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-29 16:33:12,376 - INFO - [Thread-11 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 3dff7286-0293-4165-a375-f9af29dccc06
2025-04-29 16:33:12,376 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Starting processing generator...
2025-04-29 16:33:12,377 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Processing: User='ELENA', File='test download (1) (5) (1) (1).mkv'
2025-04-29 16:33:12,378 - INFO - [Thread-11 (process_request_thread)] [_log] - 127.0.0.1 - - [29/Apr/2025 16:33:12] "GET /stream-progress/3dff7286-0293-4165-a375-f9af29dccc06 HTTP/1.1" 200 -
2025-04-29 16:33:12,379 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Access ID: ef0fb2029c
2025-04-29 16:33:12,379 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Large file workflow.
2025-04-29 16:33:16,907 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Compressed to 129562624 bytes in 4.53s.
2025-04-29 16:33:16,947 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Read chunk 1 (41943040 bytes). Name: 'test download (1) (5) (1) (1).zip.part_001'
2025-04-29 16:33:16,947 - INFO - [Thread-11 (process_request_thread)] [_send_chunk_task] - [3dff7286-0293-4165-a375-f9af29dccc06] T> Sending chunk 1 ('test download (1) (5) (1) (1).zip.part_001') to -4603853425
2025-04-29 16:33:16,947 - INFO - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Attempting send.
2025-04-29 16:33:26,982 - WARNING - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Connection error attempt 1: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))
2025-04-29 16:33:26,984 - INFO - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Retrying in 2s...
2025-04-29 16:33:39,400 - WARNING - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Connection error attempt 2: ('Connection aborted.', TimeoutError('The write operation timed out'))
2025-04-29 16:33:39,400 - INFO - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Retrying in 2s...
2025-04-29 16:33:51,728 - WARNING - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Connection error attempt 3: ('Connection aborted.', TimeoutError('The write operation timed out'))
2025-04-29 16:33:51,728 - INFO - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Retrying in 2s...
2025-04-29 16:34:04,087 - WARNING - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Connection error attempt 4: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))
2025-04-29 16:34:04,087 - ERROR - [Thread-11 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'test download (1) (5) (1) (1).zip.part_001'] Send failed after 4 attempts.
urllib3.exceptions.SSLError: The operation did not complete (write) (_ssl.c:2427)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
           ^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
              ^^^^^^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
urllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\telegram_api.py", line 51, in send_file_to_telegram
    response = session.post(
               ^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\sessions.py", line 637, in post
    return self.request("POST", url, data=data, json=json, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\adapters.py", line 698, in send
    raise SSLError(e, request=request)
requests.exceptions.SSLError: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))
2025-04-29 16:34:04,107 - INFO - [Thread-11 (process_request_thread)] [_send_chunk_task] - [3dff7286-0293-4165-a375-f9af29dccc06] T> Sent chunk 1 to -4603853425. Success: False
2025-04-29 16:34:04,122 - INFO - [Thread-11 (process_request_thread)] [_safe_remove_file] - [3dff7286-0293-4165-a375-f9af29dccc06] Cleaned up large compressed temp: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\3dff7286-0293-4165-a375-f9af29dccc06_comp_ybmf51sf.zip
2025-04-29 16:34:04,122 - ERROR - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Upload failed: Primary fail chunk 1: Failed after multiple attempts: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\routes.py", line 308, in process_upload_and_generate_updates
    if cid == str(PRIMARY_TELEGRAM_CHAT_ID) and not res[0]: raise IOError(f"Primary fail chunk {chunk_num}: {res[1]}")
                                                            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
OSError: Primary fail chunk 1: Failed after multiple attempts: HTTPSConnectionPool(host='api.telegram.org', port=443): Max retries exceeded with url: /bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/sendDocument (Caused by SSLError(SSLWantWriteError(3, 'The operation did not complete (write) (_ssl.c:2427)')))
2025-04-29 16:34:04,126 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Upload generator cleanup.
2025-04-29 16:34:04,132 - INFO - [Thread-11 (process_request_thread)] [_safe_remove_file] - [3dff7286-0293-4165-a375-f9af29dccc06] Cleaned up original temp: uploads_temp\3dff7286-0293-4165-a375-f9af29dccc06_test download (1) (5) (1) (1).mkv
2025-04-29 16:34:04,132 - INFO - [Thread-11 (process_request_thread)] [process_upload_and_generate_updates] - [3dff7286-0293-4165-a375-f9af29dccc06] Upload generator finished. Status: error
2025-04-29 16:34:59,785 - INFO - [Thread-9] [_schedule_cleanup] - [Cleanup-12101ec0-e72c-445d-a9de-b3d8e52217bc] Scheduled cleanup executing for path: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_12101ec0-e72c-445d-a9de-b3d8e52217bc_rl_8u6t6
2025-04-29 16:34:59,785 - INFO - [Thread-9] [_safe_remove_file] - [Cleanup-12101ec0-e72c-445d-a9de-b3d8e52217bc] Cleaned up final dl: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_12101ec0-e72c-445d-a9de-b3d8e52217bc_rl_8u6t6
2025-04-29 16:34:59,785 - INFO - [Thread-9] [_schedule_cleanup] - [Cleanup-12101ec0-e72c-445d-a9de-b3d8e52217bc] Prep data removed.
