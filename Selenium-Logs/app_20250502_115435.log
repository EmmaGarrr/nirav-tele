2025-05-02 11:54:35,523 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250502_115435.log
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:54:35,528 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:54:35,535 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:54:35,535 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:54:35,537 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:54:35,537 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:54:35,538 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:54:35,538 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:54:35,718 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-02 11:54:36,181 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-02 11:54:36,181 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-02 11:54:36,186 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-02 11:54:36,187 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-02 11:54:36,212 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-02 11:54:36,218 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-02 11:54:50,441 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:54:50,505 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:54:50] "GET / HTTP/1.1" 200 -
2025-05-02 11:54:56,195 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:54:56] "GET /login HTTP/1.1" 200 -
2025-05-02 11:55:06,502 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:55:06] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-02 11:55:06,508 - INFO - [Thread-5 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:55:06,512 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:55:06] "GET / HTTP/1.1" 200 -
2025-05-02 11:55:15,225 - INFO - [Thread-6 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 11:55:15,239 - INFO - [Thread-6 (process_request_thread)] [initiate_upload] - [e5031751-0a13-4876-93b9-621fa04de7a0] Temp storage: uploads_temp\e5031751-0a13-4876-93b9-621fa04de7a0_404_error.html
2025-05-02 11:55:15,240 - INFO - [Thread-6 (process_request_thread)] [initiate_upload] - [e5031751-0a13-4876-93b9-621fa04de7a0] Temp saved: '404_error.html'.
2025-05-02 11:55:15,241 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:55:15] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 11:55:15,274 - INFO - [Thread-7 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: e5031751-0a13-4876-93b9-621fa04de7a0
2025-05-02 11:55:15,281 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Starting processing generator...
2025-05-02 11:55:15,285 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Processing: User='admin', File='404_error.html'
2025-05-02 11:55:15,286 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Initialized Upload Executor (max=5)
2025-05-02 11:55:15,289 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:55:15] "GET /stream-progress/e5031751-0a13-4876-93b9-621fa04de7a0 HTTP/1.1" 200 -
2025-05-02 11:55:15,289 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Access ID: 9d4abfbbd3
2025-05-02 11:55:15,292 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Single file workflow.
2025-05-02 11:55:15,326 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Compressed size: 917
2025-05-02 11:55:15,336 - INFO - [Upload_e503_0] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sending '404_error.zip' (917b) to -4603853425
2025-05-02 11:55:15,337 - INFO - [Upload_e503_1] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sending '404_error.zip' (917b) to -1002614397019
2025-05-02 11:55:15,338 - INFO - [Upload_e503_0] [send_file_to_telegram] - [ChatID -4603853425, File '404_error.zip'] Attempting send.
2025-05-02 11:55:15,339 - INFO - [Upload_e503_2] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sending '404_error.zip' (917b) to -4641852757
2025-05-02 11:55:15,339 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Submitted 3 single-file tasks.
2025-05-02 11:55:15,339 - INFO - [Upload_e503_1] [send_file_to_telegram] - [ChatID -1002614397019, File '404_error.zip'] Attempting send.
2025-05-02 11:55:15,341 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Wait primary (-4603853425)...
2025-05-02 11:55:15,342 - INFO - [Upload_e503_2] [send_file_to_telegram] - [ChatID -4641852757, File '404_error.zip'] Attempting send.
2025-05-02 11:55:16,187 - INFO - [Upload_e503_2] [send_file_to_telegram] - [ChatID -4641852757, File '404_error.zip'] API success (Attempt 1).
2025-05-02 11:55:16,187 - INFO - [Upload_e503_2] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sent '404_error.zip' to -4641852757. Success: True
2025-05-02 11:55:16,209 - INFO - [Upload_e503_0] [send_file_to_telegram] - [ChatID -4603853425, File '404_error.zip'] API success (Attempt 1).
2025-05-02 11:55:16,209 - INFO - [Upload_e503_0] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sent '404_error.zip' to -4603853425. Success: True
2025-05-02 11:55:16,210 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Primary done. OK:True
2025-05-02 11:55:16,210 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Wait backups...
2025-05-02 11:55:16,226 - INFO - [Upload_e503_1] [send_file_to_telegram] - [ChatID -1002614397019, File '404_error.zip'] API success (Attempt 1).
2025-05-02 11:55:16,227 - INFO - [Upload_e503_1] [_send_single_file_task] - [e5031751-0a13-4876-93b9-621fa04de7a0] T> Sent '404_error.zip' to -1002614397019. Success: True
2025-05-02 11:55:16,228 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Single sends done in 0.89s.
2025-05-02 11:55:16,228 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Success: 3/3
2025-05-02 11:55:16,229 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Attempting to save metadata to DB...
2025-05-02 11:55:16,232 - INFO - [Thread-7 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-02 11:55:17,166 - INFO - [Thread-7 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-02 11:55:17,166 - INFO - [Thread-7 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-02 11:55:17,167 - INFO - [Thread-7 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-02 11:55:17,210 - INFO - [Thread-7 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: 9d4abfbbd3
2025-05-02 11:55:17,210 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 6814654d1969d4a304aec113).
2025-05-02 11:55:17,211 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Upload generator cleanup.
2025-05-02 11:55:17,212 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Upload executor shutdown.
2025-05-02 11:55:17,215 - INFO - [Thread-7 (process_request_thread)] [_safe_remove_file] - [e5031751-0a13-4876-93b9-621fa04de7a0] Cleaned up original temp: uploads_temp\e5031751-0a13-4876-93b9-621fa04de7a0_404_error.html
2025-05-02 11:55:17,217 - INFO - [Thread-7 (process_request_thread)] [process_upload_and_generate_updates] - [e5031751-0a13-4876-93b9-621fa04de7a0] Upload generator finished. Status: completed
