2025-04-26 11:03:55,780 - INFO - [<module>] - Logging configured. Log file: Selenium-Logs\app_20250426_110355.log
2025-04-26 11:03:55,780 - INFO - [<module>] - Flask application initialized.
2025-04-26 11:03:55,780 - INFO - [<module>] - Starting Flask development server...
2025-04-26 11:03:55,819 - WARNING - [_log] -  * Debugger is active!
2025-04-26 11:03:55,819 - INFO - [_log] -  * Debugger PIN: 107-410-311
2025-04-26 11:03:59,524 - INFO - [index] - Serving index page.
2025-04-26 11:03:59,627 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:03:59] "GET / HTTP/1.1" 200 -
2025-04-26 11:03:59,696 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:03:59] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-26 11:03:59,756 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:03:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-04-26 11:04:07,274 - INFO - [initiate_upload] - Received request to initiate upload.
2025-04-26 11:04:07,274 - INFO - [initiate_upload] - Saving temporary file for upload_id '0c19f159-f297-441b-9b1c-53c67721eeb5' to 'uploads_temp\0c19f159-f297-441b-9b1c-53c67721eeb5_404_error (2).html'
2025-04-26 11:04:07,274 - INFO - [initiate_upload] - Temporary file saved successfully for '404_error (2).html' (ID: 0c19f159-f297-441b-9b1c-53c67721eeb5).
2025-04-26 11:04:07,274 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:07] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-26 11:04:07,283 - INFO - [stream_progress] - SSE connection request for upload_id: 0c19f159-f297-441b-9b1c-53c67721eeb5
2025-04-26 11:04:07,291 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Starting processing...
2025-04-26 11:04:07,291 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Processing upload: User='Octopus', File='404_error (2).html', TempPath='uploads_temp\0c19f159-f297-441b-9b1c-53c67721eeb5_404_error (2).html'
2025-04-26 11:04:07,291 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Original temp file size: 1518 bytes.
2025-04-26 11:04:07,291 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:07] "GET /stream-progress/0c19f159-f297-441b-9b1c-53c67721eeb5 HTTP/1.1" 200 -
2025-04-26 11:04:07,291 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Generated Access ID: 73622cf12e
2025-04-26 11:04:07,291 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] '404_error (2).html' is small. Compressing and sending as single file.
2025-04-26 11:04:07,301 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Compressed '404_error (2).html' to 925 bytes.
2025-04-26 11:04:07,304 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Attempting send '404_error (2).html.zip' to chat ID: -4603853425
2025-04-26 11:04:07,308 - INFO - [send_file_to_telegram] - Sending file '404_error (2).html.zip' to Telegram chat ID: -4603853425
2025-04-26 11:04:08,479 - INFO - [send_file_to_telegram] - Telegram API success for '404_error (2).html.zip'.
2025-04-26 11:04:08,479 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Attempting send '404_error (2).html.zip' to chat ID: -1002614397019
2025-04-26 11:04:08,479 - INFO - [send_file_to_telegram] - Sending file '404_error (2).html.zip' to Telegram chat ID: -1002614397019
2025-04-26 11:04:09,524 - INFO - [send_file_to_telegram] - Telegram API success for '404_error (2).html.zip'.
2025-04-26 11:04:09,525 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Attempting send '404_error (2).html.zip' to chat ID: -4641852757
2025-04-26 11:04:09,526 - INFO - [send_file_to_telegram] - Sending file '404_error (2).html.zip' to Telegram chat ID: -4641852757
2025-04-26 11:04:10,665 - INFO - [send_file_to_telegram] - Telegram API success for '404_error (2).html.zip'.
2025-04-26 11:04:10,666 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Single file '404_error (2).html' sent successfully to PRIMARY chat ID -4603853425.
2025-04-26 11:04:10,667 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Total successful sends (including backups): 3 / 3
2025-04-26 11:04:10,669 - ERROR - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Inconsistency: Primary send succeeded but failed to extract IDs from its response: {'ok': True, 'result': {'message_id': 963, 'from': {'id': 7812479394, 'is_bot': True, 'first_name': 'Harry Bot', 'username': 'hhhHarryBot'}, 'chat': {'id': -4603853425, 'title': 'AGroup', 'type': 'group', 'all_members_are_administrators': True, 'accepted_gift_types': {'unlimited_gifts': False, 'limited_gifts': False, 'unique_gifts': False, 'premium_subscription': False}}, 'date': 1745645647, 'document': {'file_name': '404_error (2).html.zip', 'mime_type': 'application/zip', 'file_id': 'BQACAgUAAxkDAAIDw2gMcE8HhNzHCmlG-VDr0GJgZr0lAALhFQACI41oVLIlnIDztslZNgQ', 'file_unique_id': 'AgAD4RUAAiONaFQ', 'file_size': 925}}}
2025-04-26 11:04:10,707 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:10,719 - INFO - [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-26 11:04:10,720 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Generated landing page URL: http://127.0.0.1:5000/get/73622cf12e
2025-04-26 11:04:10,720 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Entering final cleanup.
2025-04-26 11:04:10,722 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Successfully deleted original temporary file: uploads_temp\0c19f159-f297-441b-9b1c-53c67721eeb5_404_error (2).html
2025-04-26 11:04:10,722 - INFO - [process_upload_and_generate_updates] - [0c19f159-f297-441b-9b1c-53c67721eeb5] Processing finished with status: completed
2025-04-26 11:04:15,967 - INFO - [get_file_by_access_id] - Received request for access_id: 73622cf12e
2025-04-26 11:04:15,982 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:15,986 - INFO - [get_file_by_access_id] - Found file '404_error (2).html'. Rendering download page.
2025-04-26 11:04:16,068 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:16] "GET /get/73622cf12e HTTP/1.1" 200 -
2025-04-26 11:04:17,426 - INFO - [stream_download_by_access_id] - [f1728ee9-daab-49ef-b524-d441365a4ed5] SSE connection request for download prep using access_id: 73622cf12e
2025-04-26 11:04:17,430 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:17,430 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Download preparation generator started.
2025-04-26 11:04:17,431 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:17] "GET /stream-download/73622cf12e HTTP/1.1" 200 -
2025-04-26 11:04:17,532 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:17,532 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Found metadata for '404_error (2).html' (User: Octopus, Size: 1518)
2025-04-26 11:04:17,736 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Preparing non-split file '404_error (2).html'.
2025-04-26 11:04:17,739 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Using primary file_id: BQACAgUAAxkDAAIDw2gMcE8HhNzHCmlG-VDr0GJgZr0lAALhFQACI41oVLIlnIDztslZNgQ from chat -4603853425
2025-04-26 11:04:17,741 - INFO - [download_telegram_file_content] - Attempting to get download URL for file_id: BQACAgUAAxkDAAIDw2gMcE8HhNzHCmlG-VDr0GJgZr0lAALhFQACI41oVLIlnIDztslZNgQ
2025-04-26 11:04:18,543 - INFO - [download_telegram_file_content] - Obtained temporary download URL: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_437.zip
2025-04-26 11:04:18,543 - INFO - [download_telegram_file_content] - Attempting to download content from: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_437.zip
2025-04-26 11:04:19,005 - INFO - [download_telegram_file_content] - Successfully downloaded 925 bytes for file_id BQACAgUAAxkDAAIDw2gMcE8HhNzHCmlG-VDr0GJgZr0lAALhFQACI41oVLIlnIDztslZNgQ.
2025-04-26 11:04:19,021 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Source download took 1.28s, Speed: 0.00 MB/s
2025-04-26 11:04:19,021 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Decompressing single downloaded file...
2025-04-26 11:04:19,030 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Decompression finished in 0.01s.
2025-04-26 11:04:19,033 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Final prepared file: 'E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_f1728ee9-daab-49ef-b524-d441365a4ed5_qzr9qrna.html', Size: 1518
2025-04-26 11:04:19,134 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Preparation complete. Sent 'ready' event.
2025-04-26 11:04:19,134 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Generator finished or errored. Cleaning up intermediate files.
2025-04-26 11:04:19,135 - INFO - [_prepare_and_stream_download_generator] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Generator task ended.
2025-04-26 11:04:19,144 - INFO - [serve_temp_file] - Request to serve temporary download file for ID: f1728ee9-daab-49ef-b524-d441365a4ed5, Filename: 404_error (2).html
2025-04-26 11:04:19,145 - INFO - [serve_temp_file] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Preparing streaming response for '404_error (2).html' from 'E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_f1728ee9-daab-49ef-b524-d441365a4ed5_qzr9qrna.html'
2025-04-26 11:04:19,149 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:19] "GET /serve-temp-file/f1728ee9-daab-49ef-b524-d441365a4ed5/404_error%20(2).html HTTP/1.1" 200 -
2025-04-26 11:04:19,149 - INFO - [generate_and_cleanup] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Finished streaming file: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_f1728ee9-daab-49ef-b524-d441365a4ed5_qzr9qrna.html
2025-04-26 11:04:19,153 - INFO - [generate_and_cleanup] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Cleaning up final temp file post-streaming: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_f1728ee9-daab-49ef-b524-d441365a4ed5_qzr9qrna.html
2025-04-26 11:04:19,154 - INFO - [generate_and_cleanup] - [f1728ee9-daab-49ef-b524-d441365a4ed5] Successfully deleted final temp file: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_final_f1728ee9-daab-49ef-b524-d441365a4ed5_qzr9qrna.html
2025-04-26 11:04:24,179 - INFO - [list_user_files] - Request received to list files for user: 'Octopus'
2025-04-26 11:04:24,182 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:24,182 - INFO - [list_user_files] - Found 31 file records for user 'Octopus'.
2025-04-26 11:04:24,185 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:24] "GET /files/Octopus HTTP/1.1" 200 -
2025-04-26 11:04:33,462 - INFO - [delete_file_record] - Received DELETE request for user='Octopus', file='404_error (2).html'
2025-04-26 11:04:33,466 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-26 11:04:33,466 - INFO - [delete_file_record] - Found and removed record for '404_error (2).html' for user 'Octopus'.
2025-04-26 11:04:33,483 - INFO - [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-26 11:04:33,483 - INFO - [delete_file_record] - Successfully saved updated metadata after deleting '404_error (2).html'.
2025-04-26 11:04:33,484 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:33] "DELETE /delete-file/Octopus/404_error%20(2).html HTTP/1.1" 200 -
2025-04-26 11:04:39,099 - INFO - [index] - Serving index page.
2025-04-26 11:04:39,099 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:39] "GET / HTTP/1.1" 200 -
2025-04-26 11:04:39,118 - INFO - [_log] - 127.0.0.1 - - [26/Apr/2025 11:04:39] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
