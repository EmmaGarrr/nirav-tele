2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - ============================================================
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250505_153706.log
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - ============================================================
2025-05-05 15:37:06,835 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-05 15:37:06,855 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-05 15:37:06,856 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-05 15:37:06,856 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-05 15:37:06,856 - INFO - [MainThread] [<module>] - Flask-Login initialized.
2025-05-05 15:37:06,856 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-05 15:37:06,858 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-05 15:37:06,859 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-05 15:37:06,860 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-05 15:37:06,860 - INFO - [MainThread] [<module>] - Flask-Login initialized.
2025-05-05 15:37:06,861 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-05 15:37:07,016 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-05 15:37:07,449 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-05 15:37:07,449 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-05 15:37:07,449 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-05 15:37:07,463 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-05 15:37:07,480 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-05 15:37:07,488 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-05 15:37:10,066 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-05 15:37:10,082 - INFO - [Thread-3 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-05 15:37:11,126 - INFO - [Thread-3 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-05 15:37:11,126 - INFO - [Thread-3 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-05 15:37:11,126 - INFO - [Thread-3 (process_request_thread)] [get_userinfo_collection] - Accessed collection: userinfo
2025-05-05 15:37:11,163 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:11] "GET / HTTP/1.1" 200 -
2025-05-05 15:37:23,316 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-05 15:37:23,345 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Upload initiated by user: tes23@gmail.com
2025-05-05 15:37:23,345 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Temp storage: uploads_temp\0ba0a5a9-fa14-4083-8e09-71972b21124d_auth.txt
2025-05-05 15:37:23,346 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Temp saved: 'auth.txt'.
2025-05-05 15:37:23,347 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:23] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-05 15:37:23,356 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 0ba0a5a9-fa14-4083-8e09-71972b21124d
2025-05-05 15:37:23,357 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Starting processing generator...
2025-05-05 15:37:23,357 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Processing: User='testt', File='auth.txt'
2025-05-05 15:37:23,358 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Initialized Upload Executor (max=5)
2025-05-05 15:37:23,358 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:23] "GET /stream-progress/0ba0a5a9-fa14-4083-8e09-71972b21124d HTTP/1.1" 200 -
2025-05-05 15:37:23,359 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Access ID: 65fcbe4ee7
2025-05-05 15:37:23,359 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Single file workflow.
2025-05-05 15:37:23,372 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Compressed size: 172
2025-05-05 15:37:23,373 - INFO - [Upload_0ba0_0] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sending 'auth.zip' (172b) to -4603853425
2025-05-05 15:37:23,374 - INFO - [Upload_0ba0_0] [send_file_to_telegram] - [ChatID -4603853425, File 'auth.zip'] Attempting send.
2025-05-05 15:37:23,374 - INFO - [Upload_0ba0_1] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sending 'auth.zip' (172b) to -1002614397019
2025-05-05 15:37:23,375 - INFO - [Upload_0ba0_2] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sending 'auth.zip' (172b) to -4641852757
2025-05-05 15:37:23,375 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Submitted 3 single-file tasks.
2025-05-05 15:37:23,375 - INFO - [Upload_0ba0_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'auth.zip'] Attempting send.
2025-05-05 15:37:23,376 - INFO - [Upload_0ba0_2] [send_file_to_telegram] - [ChatID -4641852757, File 'auth.zip'] Attempting send.
2025-05-05 15:37:23,376 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Wait primary (-4603853425)...
2025-05-05 15:37:24,405 - INFO - [Upload_0ba0_2] [send_file_to_telegram] - [ChatID -4641852757, File 'auth.zip'] API success (Attempt 1).
2025-05-05 15:37:24,405 - INFO - [Upload_0ba0_2] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sent 'auth.zip' to -4641852757. Success: True
2025-05-05 15:37:24,405 - INFO - [Upload_0ba0_0] [send_file_to_telegram] - [ChatID -4603853425, File 'auth.zip'] API success (Attempt 1).
2025-05-05 15:37:24,405 - INFO - [Upload_0ba0_0] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sent 'auth.zip' to -4603853425. Success: True
2025-05-05 15:37:24,405 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Primary done. OK:True
2025-05-05 15:37:24,405 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Wait backups...
2025-05-05 15:37:24,418 - INFO - [Upload_0ba0_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'auth.zip'] API success (Attempt 1).
2025-05-05 15:37:24,418 - INFO - [Upload_0ba0_1] [_send_single_file_task] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] T> Sent 'auth.zip' to -1002614397019. Success: True
2025-05-05 15:37:24,422 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Single sends done in 1.05s.
2025-05-05 15:37:24,423 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Success: 3/3
2025-05-05 15:37:24,424 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Attempting to save metadata to DB...
2025-05-05 15:37:24,425 - INFO - [Thread-4 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-05 15:37:24,468 - INFO - [Thread-4 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: 65fcbe4ee7
2025-05-05 15:37:24,468 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 68188ddd1969d4a304aed14f).
2025-05-05 15:37:24,469 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Upload generator cleanup.
2025-05-05 15:37:24,470 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Upload executor shutdown.
2025-05-05 15:37:24,473 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Cleaned up original temp: uploads_temp\0ba0a5a9-fa14-4083-8e09-71972b21124d_auth.txt
2025-05-05 15:37:24,474 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [0ba0a5a9-fa14-4083-8e09-71972b21124d] Upload generator finished. Status: completed
2025-05-05 15:37:35,369 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - List files request for: 'Grady'
2025-05-05 15:37:35,369 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - Fetching files for user 'Grady' from DB...
2025-05-05 15:37:35,399 - INFO - [Thread-5 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Grady
2025-05-05 15:37:35,400 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - Found 0 records for 'Grady'.
2025-05-05 15:37:35,401 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:35] "GET /files/Grady HTTP/1.1" 200 -
2025-05-05 15:37:42,250 - INFO - [Thread-6 (process_request_thread)] [list_user_files] - List files request for: 'Admin'
2025-05-05 15:37:42,250 - INFO - [Thread-6 (process_request_thread)] [list_user_files] - Fetching files for user 'Admin' from DB...
2025-05-05 15:37:42,280 - INFO - [Thread-6 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Admin
2025-05-05 15:37:42,280 - INFO - [Thread-6 (process_request_thread)] [list_user_files] - Found 0 records for 'Admin'.
2025-05-05 15:37:42,281 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:42] "GET /files/Admin HTTP/1.1" 200 -
2025-05-05 15:37:43,024 - INFO - [Thread-7 (process_request_thread)] [list_user_files] - List files request for: 'Admin'
2025-05-05 15:37:43,024 - INFO - [Thread-7 (process_request_thread)] [list_user_files] - Fetching files for user 'Admin' from DB...
2025-05-05 15:37:43,055 - INFO - [Thread-7 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Admin
2025-05-05 15:37:43,056 - INFO - [Thread-7 (process_request_thread)] [list_user_files] - Found 0 records for 'Admin'.
2025-05-05 15:37:43,056 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:43] "GET /files/Admin HTTP/1.1" 200 -
2025-05-05 15:37:43,232 - INFO - [Thread-8 (process_request_thread)] [list_user_files] - List files request for: 'Admin'
2025-05-05 15:37:43,232 - INFO - [Thread-8 (process_request_thread)] [list_user_files] - Fetching files for user 'Admin' from DB...
2025-05-05 15:37:43,263 - INFO - [Thread-8 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Admin
2025-05-05 15:37:43,263 - INFO - [Thread-8 (process_request_thread)] [list_user_files] - Found 0 records for 'Admin'.
2025-05-05 15:37:43,264 - INFO - [Thread-8 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:43] "GET /files/Admin HTTP/1.1" 200 -
2025-05-05 15:37:43,449 - INFO - [Thread-9 (process_request_thread)] [list_user_files] - List files request for: 'Admin'
2025-05-05 15:37:43,449 - INFO - [Thread-9 (process_request_thread)] [list_user_files] - Fetching files for user 'Admin' from DB...
2025-05-05 15:37:43,476 - INFO - [Thread-9 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Admin
2025-05-05 15:37:43,507 - INFO - [Thread-9 (process_request_thread)] [list_user_files] - Found 0 records for 'Admin'.
2025-05-05 15:37:43,507 - INFO - [Thread-9 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:43] "GET /files/Admin HTTP/1.1" 200 -
2025-05-05 15:37:43,657 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - List files request for: 'Admin'
2025-05-05 15:37:43,657 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - Fetching files for user 'Admin' from DB...
2025-05-05 15:37:43,688 - INFO - [Thread-10 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: Admin
2025-05-05 15:37:43,688 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - Found 0 records for 'Admin'.
2025-05-05 15:37:43,689 - INFO - [Thread-10 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:43] "GET /files/Admin HTTP/1.1" 200 -
2025-05-05 15:37:45,285 - INFO - [Thread-11 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-05 15:37:45,362 - INFO - [Thread-11 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:37:45] "GET /register HTTP/1.1" 200 -
2025-05-05 15:38:35,726 - INFO - [Thread-13 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:35] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:38,593 - INFO - [Thread-14 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:38] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:39,522 - INFO - [Thread-15 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:39] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:39,773 - INFO - [Thread-16 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:39] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:39,914 - INFO - [Thread-17 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:39] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:40,204 - INFO - [Thread-18 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:40] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:40,438 - INFO - [Thread-19 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:40] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:40,769 - INFO - [Thread-20 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:40] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:41,273 - INFO - [Thread-21 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:41] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:41,521 - INFO - [Thread-22 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:41] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:41,708 - INFO - [Thread-23 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:41] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:41,977 - INFO - [Thread-24 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:41] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:43,315 - INFO - [Thread-25 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:43] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:38:44,193 - INFO - [Thread-26 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:38:44] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:01,282 - INFO - [Thread-27 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:01] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:02,030 - INFO - [Thread-28 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:02] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:02,291 - INFO - [Thread-29 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:02] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:02,537 - INFO - [Thread-30 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:02] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:03,091 - INFO - [Thread-31 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:03] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:03,333 - INFO - [Thread-32 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:03] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:03,484 - INFO - [Thread-33 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:03] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:03,703 - INFO - [Thread-34 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:03] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:03,936 - INFO - [Thread-35 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:03] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:04,154 - INFO - [Thread-36 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:04] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:04,340 - INFO - [Thread-37 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:04] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:04,537 - INFO - [Thread-38 (process_request_thread)] [_log] - 127.0.0.1 - - [05/May/2025 15:39:04] "OPTIONS /register HTTP/1.1" 200 -
2025-05-05 15:39:52,184 - INFO - [MainThread] [_log] -  * Detected change in 'E:\\Telegram_tool\\Telegram_Bot_Tool\\routes.py', reloading
