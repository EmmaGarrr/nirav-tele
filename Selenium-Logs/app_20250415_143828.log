2025-04-15 14:38:28,696 - INFO - [<module>] - Logging configured. Log file: Selenium-Logs\app_20250415_143828.log
2025-04-15 14:38:28,697 - INFO - [<module>] - Flask application initialized.
2025-04-15 14:38:28,699 - INFO - [<module>] - Starting Flask development server...
2025-04-15 14:38:28,732 - WARNING - [_log] -  * Debugger is active!
2025-04-15 14:38:28,737 - INFO - [_log] -  * Debugger PIN: 107-410-311
2025-04-15 14:38:32,211 - INFO - [index] - Serving index page.
2025-04-15 14:38:32,225 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:32] "GET / HTTP/1.1" 200 -
2025-04-15 14:38:32,278 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:32] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-15 14:38:35,471 - INFO - [list_user_files] - Request received to list files for user: 'Bonniee'
2025-04-15 14:38:35,472 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:38:35,473 - INFO - [list_user_files] - Found 1 file records for user 'Bonniee'.
2025-04-15 14:38:35,474 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:35] "GET /files/Bonniee HTTP/1.1" 200 -
2025-04-15 14:38:37,984 - INFO - [download_user_file] - Download request: User='Bonniee', Original File='90mb.pdf'
2025-04-15 14:38:37,985 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:38:37,985 - INFO - [download_user_file] - Processing SPLIT file download for '90mb.pdf'
2025-04-15 14:38:37,987 - INFO - [download_user_file] - Created temporary file for reassembly: C:\Users\DELL\AppData\Local\Temp\tmp7q6rl9gl.zip.tmp
2025-04-15 14:38:37,989 - INFO - [download_telegram_file_content] - Attempting to get download URL for file_id: BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ
2025-04-15 14:38:38,475 - ERROR - [download_telegram_file_content] - Network/Request error calling Telegram getFile API: 400 Client Error: Bad Request for url: https://api.telegram.org/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/getFile?file_id=BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ | Status: 400 | Response: {"ok":false,"error_code":400,"description":"Bad Request: file is too big"}
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 142, in download_telegram_file_content
    response.raise_for_status()
  File "E:\Telegram_tool\Telegram_Bot_Tool\.venv\Lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: https://api.telegram.org/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/getFile?file_id=BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ
2025-04-15 14:38:38,481 - ERROR - [download_user_file] - Failed to download chunk 1 ('90mb.pdf.zip.part_001'): Network error getting download URL: 400 Client Error: Bad Request for url: https://api.telegram.org/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/getFile?file_id=BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ | Status: 400 | Response: {"ok":false,"error_code":400,"description":"Bad Request: file is too big"}
2025-04-15 14:38:38,482 - ERROR - [download_user_file] - General error during download processing for '90mb.pdf': Error downloading part 1: Network error getting download URL: 400 Client Error: Bad Request for url: https://api.telegram.org/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/getFile?file_id=BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ | Status: 400 | Response: {"ok":false,"error_code":400,"description":"Bad Request: file is too big"}
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 821, in download_user_file
    raise ValueError(f"Error downloading part {part_num}: {error_msg}") # Raise to trigger finally cleanup
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: Error downloading part 1: Network error getting download URL: 400 Client Error: Bad Request for url: https://api.telegram.org/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/getFile?file_id=BQACAgUAAxkDAAM1Z_4DfinrZhyJ6L05Tzx9ObOTeDwAAt4SAAJhjfFXE4MZ8wABdk_qNgQ | Status: 400 | Response: {"ok":false,"error_code":400,"description":"Bad Request: file is too big"}
2025-04-15 14:38:38,487 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:38] "[32mGET /download/Bonniee/90mb.pdf HTTP/1.1[0m" 302 -
2025-04-15 14:38:38,497 - INFO - [index] - Serving index page.
2025-04-15 14:38:38,498 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:38] "GET / HTTP/1.1" 200 -
2025-04-15 14:38:38,515 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:38:38] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-15 14:39:07,711 - INFO - [list_user_files] - Request received to list files for user: 'Grecy'
2025-04-15 14:39:07,712 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:39:07,712 - INFO - [list_user_files] - Found 1 file records for user 'Grecy'.
2025-04-15 14:39:07,713 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:39:07] "GET /files/Grecy HTTP/1.1" 200 -
2025-04-15 14:39:08,775 - INFO - [download_user_file] - Download request: User='Grecy', Original File='comment.txt'
2025-04-15 14:39:08,777 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:39:08,777 - INFO - [download_user_file] - Processing non-split file download for 'comment.txt'
2025-04-15 14:39:08,778 - INFO - [download_telegram_file_content] - Attempting to get download URL for file_id: BQACAgUAAxkDAANDZ_4grEEEEjO7Mh5Vh6NybMJuluMAAsoVAAIWNvBXAQbHVhI5oHw2BA
2025-04-15 14:39:09,307 - INFO - [download_telegram_file_content] - Obtained temporary download URL: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_24.zip
2025-04-15 14:39:09,308 - INFO - [download_telegram_file_content] - Attempting to download content from: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_24.zip
2025-04-15 14:39:09,778 - INFO - [download_telegram_file_content] - Successfully downloaded 225 bytes for file_id BQACAgUAAxkDAANDZ_4grEEEEjO7Mh5Vh6NybMJuluMAAsoVAAIWNvBXAQbHVhI5oHw2BA.
2025-04-15 14:39:09,780 - INFO - [download_user_file] - Successfully downloaded content for 'comment.txt.zip'. Size: 225 bytes.
2025-04-15 14:39:09,781 - INFO - [download_user_file] - File 'comment.txt.zip' is compressed. Decompressing...
2025-04-15 14:39:09,786 - INFO - [download_user_file] - Extracting 'comment.txt' to temporary file: C:\Users\DELL\AppData\Local\Temp\tmp8wvncs3e
2025-04-15 14:39:09,787 - INFO - [download_user_file] - Successfully extracted to C:\Users\DELL\AppData\Local\Temp\tmp8wvncs3e. Size: 132
2025-04-15 14:39:09,788 - INFO - [download_user_file] - Sending decompressed file 'comment.txt' from path 'C:\Users\DELL\AppData\Local\Temp\tmp8wvncs3e'
2025-04-15 14:39:09,853 - ERROR - [download_user_file] - General error during download processing for 'comment.txt': 'NoneType' object has no attribute 'closed'
Traceback (most recent call last):
  File "E:\Telegram_tool\Telegram_Bot_Tool\Telegram_app.py", line 774, in download_user_file
    if zip_file_handle and not zip_file_handle.fp.closed:
                               ^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'closed'
2025-04-15 14:39:09,855 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:39:09] "[32mGET /download/Grecy/comment.txt HTTP/1.1[0m" 302 -
2025-04-15 14:39:09,859 - INFO - [index] - Serving index page.
2025-04-15 14:39:09,859 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:39:09] "GET / HTTP/1.1" 200 -
2025-04-15 14:39:09,880 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:39:09] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-15 14:40:00,657 - INFO - [list_user_files] - Request received to list files for user: 'Demon'
2025-04-15 14:40:00,659 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:40:00,659 - INFO - [list_user_files] - Found 1 file records for user 'Demon'.
2025-04-15 14:40:00,659 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:40:00] "GET /files/Demon HTTP/1.1" 200 -
2025-04-15 14:40:02,004 - INFO - [download_user_file] - Download request: User='Demon', Original File='archive (1).zip'
2025-04-15 14:40:02,006 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-15 14:40:02,007 - INFO - [download_user_file] - Processing non-split file download for 'archive (1).zip'
2025-04-15 14:40:02,008 - INFO - [download_telegram_file_content] - Attempting to get download URL for file_id: BQACAgUAAxkDAAMkZ_zNuWYoWuKp_ieSEzl_g79dA0gAAq0TAAJhjelXpwlElR87ENQ2BA
2025-04-15 14:40:02,490 - INFO - [download_telegram_file_content] - Obtained temporary download URL: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_6.zip
2025-04-15 14:40:02,491 - INFO - [download_telegram_file_content] - Attempting to download content from: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_6.zip
2025-04-15 14:40:03,078 - INFO - [download_telegram_file_content] - Successfully downloaded 12529 bytes for file_id BQACAgUAAxkDAAMkZ_zNuWYoWuKp_ieSEzl_g79dA0gAAq0TAAJhjelXpwlElR87ENQ2BA.
2025-04-15 14:40:03,078 - INFO - [download_user_file] - Successfully downloaded content for 'archive (1).zip'. Size: 12529 bytes.
2025-04-15 14:40:03,079 - INFO - [download_user_file] - File 'archive (1).zip' was not compressed. Sending directly.
2025-04-15 14:40:03,080 - INFO - [download_user_file] - Wrote non-compressed content to temporary file: C:\Users\DELL\AppData\Local\Temp\tmppnq1r21v
2025-04-15 14:40:03,098 - INFO - [_log] - 127.0.0.1 - - [15/Apr/2025 14:40:03] "GET /download/Demon/archive%20(1).zip HTTP/1.1" 200 -
