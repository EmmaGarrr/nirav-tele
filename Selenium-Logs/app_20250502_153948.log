2025-05-02 15:39:48,639 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 15:39:48,639 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250502_153948.log
2025-05-02 15:39:48,640 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-02 15:39:48,640 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-02 15:39:48,641 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-02 15:39:48,641 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-02 15:39:48,641 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-02 15:39:48,642 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-02 15:39:48,642 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-02 15:39:48,643 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 15:39:48,643 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-02 15:39:48,644 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 15:39:48,645 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-02 15:39:48,645 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 15:39:48,645 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 15:39:48,647 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 15:39:48,647 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-02 15:39:48,647 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 15:39:48,647 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 15:39:48,811 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-02 15:39:49,263 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-02 15:39:49,263 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-02 15:39:49,268 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-02 15:39:49,271 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-02 15:39:49,296 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-02 15:39:49,301 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-02 15:39:53,884 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-02 15:39:53,904 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:39:53] "GET / HTTP/1.1" 200 -
2025-05-02 15:40:00,334 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 15:40:00,335 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Temp storage: uploads_temp\f47059c2-e908-4f52-8627-1d55b28df3fa_.env
2025-05-02 15:40:00,337 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Temp saved: '.env'.
2025-05-02 15:40:00,337 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:40:00] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 15:40:00,346 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: f47059c2-e908-4f52-8627-1d55b28df3fa
2025-05-02 15:40:00,347 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Starting processing generator...
2025-05-02 15:40:00,348 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Processing: User='admin', File='.env'
2025-05-02 15:40:00,348 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Initialized Upload Executor (max=5)
2025-05-02 15:40:00,349 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:40:00] "GET /stream-progress/f47059c2-e908-4f52-8627-1d55b28df3fa HTTP/1.1" 200 -
2025-05-02 15:40:00,349 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Access ID: efb122bd0f
2025-05-02 15:40:00,351 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Single file workflow.
2025-05-02 15:40:00,354 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Compressed size: 201
2025-05-02 15:40:00,354 - INFO - [Upload_f470_0] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sending '.env.zip' (201b) to -4603853425
2025-05-02 15:40:00,355 - INFO - [Upload_f470_0] [send_file_to_telegram] - [ChatID -4603853425, File '.env.zip'] Attempting send.
2025-05-02 15:40:00,355 - INFO - [Upload_f470_1] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sending '.env.zip' (201b) to -1002614397019
2025-05-02 15:40:00,356 - INFO - [Upload_f470_2] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sending '.env.zip' (201b) to -4641852757
2025-05-02 15:40:00,356 - INFO - [Upload_f470_1] [send_file_to_telegram] - [ChatID -1002614397019, File '.env.zip'] Attempting send.
2025-05-02 15:40:00,357 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Submitted 3 single-file tasks.
2025-05-02 15:40:00,361 - INFO - [Upload_f470_2] [send_file_to_telegram] - [ChatID -4641852757, File '.env.zip'] Attempting send.
2025-05-02 15:40:00,367 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Wait primary (-4603853425)...
2025-05-02 15:40:01,379 - INFO - [Upload_f470_2] [send_file_to_telegram] - [ChatID -4641852757, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:40:01,380 - INFO - [Upload_f470_2] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sent '.env.zip' to -4641852757. Success: True
2025-05-02 15:40:01,383 - INFO - [Upload_f470_0] [send_file_to_telegram] - [ChatID -4603853425, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:40:01,383 - INFO - [Upload_f470_0] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sent '.env.zip' to -4603853425. Success: True
2025-05-02 15:40:01,384 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Primary done. OK:True
2025-05-02 15:40:01,384 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Wait backups...
2025-05-02 15:40:01,415 - INFO - [Upload_f470_1] [send_file_to_telegram] - [ChatID -1002614397019, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:40:01,416 - INFO - [Upload_f470_1] [_send_single_file_task] - [f47059c2-e908-4f52-8627-1d55b28df3fa] T> Sent '.env.zip' to -1002614397019. Success: True
2025-05-02 15:40:01,416 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Single sends done in 1.06s.
2025-05-02 15:40:01,417 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Success: 3/3
2025-05-02 15:40:01,418 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Attempting to save metadata to DB...
2025-05-02 15:40:01,418 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-02 15:40:02,311 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-02 15:40:02,311 - INFO - [Thread-4 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-02 15:40:02,312 - INFO - [Thread-4 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-02 15:40:02,347 - INFO - [Thread-4 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: efb122bd0f
2025-05-02 15:40:02,348 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 681499f91969d4a304aec48b).
2025-05-02 15:40:02,349 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Upload generator cleanup.
2025-05-02 15:40:02,353 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Upload executor shutdown.
2025-05-02 15:40:02,356 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Cleaned up original temp: uploads_temp\f47059c2-e908-4f52-8627-1d55b28df3fa_.env
2025-05-02 15:40:02,356 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [f47059c2-e908-4f52-8627-1d55b28df3fa] Upload generator finished. Status: completed
2025-05-02 15:40:47,746 - INFO - [Thread-5 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-02 15:40:47,751 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:40:47] "GET /register HTTP/1.1" 200 -
2025-05-02 15:41:05,434 - INFO - [Thread-7 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 15:41:05] "OPTIONS /register HTTP/1.1" 200 -
2025-05-02 15:41:05,442 - INFO - [Thread-8 (process_request_thread)] [register_user] - Received registration request.
2025-05-02 15:41:05,461 - INFO - [Thread-8 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 15:41:05] "[31m[1mPOST /register HTTP/1.1[0m" 400 -
2025-05-02 15:41:15,695 - INFO - [Thread-9 (process_request_thread)] [register_user] - Received registration request.
2025-05-02 15:41:15,699 - INFO - [Thread-9 (process_request_thread)] [get_userinfo_collection] - Accessed collection: userinfo
2025-05-02 15:41:15,723 - INFO - [Thread-9 (process_request_thread)] [find_user_by_email] - No user record found for email: rjj23@gmail.com
2025-05-02 15:41:16,609 - INFO - [Thread-9 (process_request_thread)] [save_user] - Successfully inserted new user with ID: 68149a44d7e1cd61c1f19d48
2025-05-02 15:41:16,611 - INFO - [Thread-9 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:16] "[35m[1mPOST /register HTTP/1.1[0m" 201 -
2025-05-02 15:41:24,296 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:24] "GET /login HTTP/1.1" 200 -
2025-05-02 15:41:30,970 - INFO - [Thread-11 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:30] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-02 15:41:30,975 - INFO - [Thread-12 (process_request_thread)] [index] - Serving index page.
2025-05-02 15:41:30,977 - INFO - [Thread-12 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:30] "GET / HTTP/1.1" 200 -
2025-05-02 15:41:45,248 - INFO - [Thread-13 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 15:41:45,249 - INFO - [Thread-13 (process_request_thread)] [initiate_upload] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Temp storage: uploads_temp\2c99d1fd-fc17-470e-ba25-8a44a161f5cf_.env
2025-05-02 15:41:45,251 - INFO - [Thread-13 (process_request_thread)] [initiate_upload] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Temp saved: '.env'.
2025-05-02 15:41:45,253 - INFO - [Thread-13 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:45] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 15:41:45,257 - INFO - [Thread-14 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 2c99d1fd-fc17-470e-ba25-8a44a161f5cf
2025-05-02 15:41:45,258 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Starting processing generator...
2025-05-02 15:41:45,258 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Processing: User='admin', File='.env'
2025-05-02 15:41:45,261 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Initialized Upload Executor (max=5)
2025-05-02 15:41:45,266 - INFO - [Thread-14 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 15:41:45] "GET /stream-progress/2c99d1fd-fc17-470e-ba25-8a44a161f5cf HTTP/1.1" 200 -
2025-05-02 15:41:45,267 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Access ID: eec2ee448b
2025-05-02 15:41:45,267 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Single file workflow.
2025-05-02 15:41:45,270 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Compressed size: 201
2025-05-02 15:41:45,271 - INFO - [Upload_2c99_0] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sending '.env.zip' (201b) to -4603853425
2025-05-02 15:41:45,272 - INFO - [Upload_2c99_0] [send_file_to_telegram] - [ChatID -4603853425, File '.env.zip'] Attempting send.
2025-05-02 15:41:45,272 - INFO - [Upload_2c99_1] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sending '.env.zip' (201b) to -1002614397019
2025-05-02 15:41:45,272 - INFO - [Upload_2c99_2] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sending '.env.zip' (201b) to -4641852757
2025-05-02 15:41:45,272 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Submitted 3 single-file tasks.
2025-05-02 15:41:45,274 - INFO - [Upload_2c99_1] [send_file_to_telegram] - [ChatID -1002614397019, File '.env.zip'] Attempting send.
2025-05-02 15:41:45,275 - INFO - [Upload_2c99_2] [send_file_to_telegram] - [ChatID -4641852757, File '.env.zip'] Attempting send.
2025-05-02 15:41:45,275 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Wait primary (-4603853425)...
2025-05-02 15:41:45,787 - INFO - [Upload_2c99_2] [send_file_to_telegram] - [ChatID -4641852757, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:41:45,788 - INFO - [Upload_2c99_2] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sent '.env.zip' to -4641852757. Success: True
2025-05-02 15:41:45,807 - INFO - [Upload_2c99_1] [send_file_to_telegram] - [ChatID -1002614397019, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:41:45,807 - INFO - [Upload_2c99_1] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sent '.env.zip' to -1002614397019. Success: True
2025-05-02 15:41:45,930 - INFO - [Upload_2c99_0] [send_file_to_telegram] - [ChatID -4603853425, File '.env.zip'] API success (Attempt 1).
2025-05-02 15:41:45,930 - INFO - [Upload_2c99_0] [_send_single_file_task] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] T> Sent '.env.zip' to -4603853425. Success: True
2025-05-02 15:41:45,931 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Primary done. OK:True
2025-05-02 15:41:45,931 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Wait backups...
2025-05-02 15:41:45,932 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Single sends done in 0.66s.
2025-05-02 15:41:45,932 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Success: 3/3
2025-05-02 15:41:45,933 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Attempting to save metadata to DB...
2025-05-02 15:41:45,960 - INFO - [Thread-14 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: eec2ee448b
2025-05-02 15:41:45,960 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 68149a611969d4a304aec48e).
2025-05-02 15:41:45,962 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Upload generator cleanup.
2025-05-02 15:41:45,964 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Upload executor shutdown.
2025-05-02 15:41:45,965 - INFO - [Thread-14 (process_request_thread)] [_safe_remove_file] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Cleaned up original temp: uploads_temp\2c99d1fd-fc17-470e-ba25-8a44a161f5cf_.env
2025-05-02 15:41:45,965 - INFO - [Thread-14 (process_request_thread)] [process_upload_and_generate_updates] - [2c99d1fd-fc17-470e-ba25-8a44a161f5cf] Upload generator finished. Status: completed
2025-05-02 15:47:34,851 - INFO - [MainThread] [_log] -  * Detected change in 'E:\\Telegram_tool\\Telegram_Bot_Tool\\routes.py', reloading
