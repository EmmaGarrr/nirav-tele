2025-05-06 12:16:46,030 - INFO - [MainThread] [<module>] - ============================================================
2025-05-06 12:16:46,030 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250506_121646.log
2025-05-06 12:16:46,030 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-06 12:16:46,031 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-06 12:16:46,032 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-06 12:16:46,033 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-06 12:16:46,033 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-06 12:16:46,035 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-06 12:16:46,035 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-06 12:16:46,035 - INFO - [MainThread] [<module>] - ============================================================
2025-05-06 12:16:46,035 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-06 12:16:46,064 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-06 12:16:46,064 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-06 12:16:46,064 - INFO - [MainThread] [<module>] - Flask-JWT-Extended initialized.
2025-05-06 12:16:46,065 - INFO - [MainThread] [<module>] - Flask-Login initialized.
2025-05-06 12:16:46,065 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-06 12:16:46,069 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-06 12:16:46,069 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-06 12:16:46,070 - INFO - [MainThread] [<module>] - Flask-JWT-Extended initialized.
2025-05-06 12:16:46,070 - INFO - [MainThread] [<module>] - Flask-Login initialized.
2025-05-06 12:16:46,071 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-06 12:16:46,229 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-06 12:16:46,696 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-06 12:16:46,697 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-06 12:16:46,704 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-06 12:16:46,705 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-06 12:16:46,717 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-06 12:16:46,725 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-06 12:28:30,210 - INFO - [Thread-2 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:30] "OPTIONS /register HTTP/1.1" 200 -
2025-05-06 12:28:30,219 - INFO - [Thread-3 (process_request_thread)] [register_user] - Received POST request for /register
2025-05-06 12:28:30,219 - INFO - [Thread-3 (process_request_thread)] [register_user] - Received registration data: {'username': 'GlowingQuest', 'email': 'jvora@gmail.com', 'password': '12345678', 'confirmPassword': '12345678', 'agreeTerms': True, 'understandPrivacy': True}
2025-05-06 12:28:30,225 - INFO - [Thread-3 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-06 12:28:31,279 - INFO - [Thread-3 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-06 12:28:31,279 - INFO - [Thread-3 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-06 12:28:31,279 - INFO - [Thread-3 (process_request_thread)] [get_userinfo_collection] - Accessed collection: userinfo
2025-05-06 12:28:31,317 - INFO - [Thread-3 (process_request_thread)] [find_user_by_username] - Found user record for username: GlowingQuest
2025-05-06 12:28:31,319 - WARNING - [Thread-3 (process_request_thread)] [register_user] - Registration failed: Username 'GlowingQuest' already exists.
2025-05-06 12:28:31,321 - INFO - [Thread-3 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:31] "[31m[1mPOST /register HTTP/1.1[0m" 409 -
2025-05-06 12:28:40,350 - INFO - [Thread-4 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:40] "OPTIONS /register HTTP/1.1" 200 -
2025-05-06 12:28:40,359 - INFO - [Thread-5 (process_request_thread)] [register_user] - Received POST request for /register
2025-05-06 12:28:40,360 - INFO - [Thread-5 (process_request_thread)] [register_user] - Received registration data: {'username': 'jvpatel', 'email': 'jvora@gmail.com', 'password': '12345678', 'confirmPassword': '12345678', 'agreeTerms': True, 'understandPrivacy': True}
2025-05-06 12:28:40,384 - INFO - [Thread-5 (process_request_thread)] [find_user_by_username] - Found user record for username: jvpatel
2025-05-06 12:28:40,384 - WARNING - [Thread-5 (process_request_thread)] [register_user] - Registration failed: Username 'jvpatel' already exists.
2025-05-06 12:28:40,389 - INFO - [Thread-5 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:40] "[31m[1mPOST /register HTTP/1.1[0m" 409 -
2025-05-06 12:28:45,964 - INFO - [Thread-6 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:45] "OPTIONS /register HTTP/1.1" 200 -
2025-05-06 12:28:45,974 - INFO - [Thread-7 (process_request_thread)] [register_user] - Received POST request for /register
2025-05-06 12:28:45,980 - INFO - [Thread-7 (process_request_thread)] [register_user] - Received registration data: {'username': 'jpatel', 'email': 'jvora@gmail.com', 'password': '12345678', 'confirmPassword': '12345678', 'agreeTerms': True, 'understandPrivacy': True}
2025-05-06 12:28:46,007 - INFO - [Thread-7 (process_request_thread)] [find_user_by_username] - No user record found for username: jpatel
2025-05-06 12:28:46,032 - INFO - [Thread-7 (process_request_thread)] [find_user_by_email] - Found user record for email: jvora@gmail.com
2025-05-06 12:28:46,033 - WARNING - [Thread-7 (process_request_thread)] [register_user] - Registration failed: Email 'jvora@gmail.com' already exists.
2025-05-06 12:28:46,034 - INFO - [Thread-7 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:46] "[31m[1mPOST /register HTTP/1.1[0m" 409 -
2025-05-06 12:28:58,499 - INFO - [Thread-8 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:58] "OPTIONS /register HTTP/1.1" 200 -
2025-05-06 12:28:58,509 - INFO - [Thread-9 (process_request_thread)] [register_user] - Received POST request for /register
2025-05-06 12:28:58,509 - INFO - [Thread-9 (process_request_thread)] [register_user] - Received registration data: {'username': 'jpatel', 'email': 'jpatel@gmail.com', 'password': '12345678', 'confirmPassword': '12345678', 'agreeTerms': True, 'understandPrivacy': True}
2025-05-06 12:28:58,539 - INFO - [Thread-9 (process_request_thread)] [find_user_by_username] - No user record found for username: jpatel
2025-05-06 12:28:58,564 - INFO - [Thread-9 (process_request_thread)] [find_user_by_email] - No user record found for email: jpatel@gmail.com
2025-05-06 12:28:59,120 - INFO - [Thread-9 (process_request_thread)] [save_user] - Successfully inserted new user with ID: 6819b333632a6ca1d4216118
2025-05-06 12:28:59,120 - INFO - [Thread-9 (process_request_thread)] [register_user] - User 'jpatel' registered successfully.
2025-05-06 12:28:59,120 - INFO - [Thread-9 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:28:59] "[35m[1mPOST /register HTTP/1.1[0m" 201 -
2025-05-06 12:29:18,215 - INFO - [Thread-10 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:29:18] "[35m[1mOPTIONS /api/auth/login HTTP/1.1[0m" 204 -
2025-05-06 12:29:18,219 - INFO - [Thread-11 (process_request_thread)] [api_login] - Received POST request for /api/auth/login
2025-05-06 12:29:18,219 - INFO - [Thread-11 (process_request_thread)] [api_login] - API Login attempt for email: jpatel@gmail.com
2025-05-06 12:29:18,249 - INFO - [Thread-11 (process_request_thread)] [find_user_by_email] - Found user record for email: jpatel@gmail.com
2025-05-06 12:29:18,776 - INFO - [Thread-11 (process_request_thread)] [api_login] - User 'jpatel' (jpatel@gmail.com) logged in successfully via API. Token created.
2025-05-06 12:29:18,777 - INFO - [Thread-11 (process_request_thread)] [_log] - 192.168.1.20 - - [06/May/2025 12:29:18] "POST /api/auth/login HTTP/1.1" 200 -
2025-05-06 12:30:25,623 - INFO - [Thread-12 (process_request_thread)] [index] - Serving index page.
2025-05-06 12:30:25,671 - INFO - [Thread-12 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:25] "GET / HTTP/1.1" 200 -
2025-05-06 12:30:25,738 - INFO - [Thread-13 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:25] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-06 12:30:31,839 - INFO - [Thread-14 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-06 12:30:31,840 - INFO - [Thread-14 (process_request_thread)] [initiate_upload] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Anonymous upload initiated.
2025-05-06 12:30:31,841 - INFO - [Thread-14 (process_request_thread)] [initiate_upload] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Temp storage path: uploads_temp\78bbe5e9-c4d9-4705-8039-50c4c1e2b38f_telegram_api.py
2025-05-06 12:30:31,841 - INFO - [Thread-14 (process_request_thread)] [initiate_upload] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Temp file saved: 'telegram_api.py'.
2025-05-06 12:30:31,842 - INFO - [Thread-14 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:31] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 78bbe5e9-c4d9-4705-8039-50c4c1e2b38f
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Starting processing generator...
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Processing: User='anonymous', File='telegram_api.py'
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Initialized Upload Executor (max=5)
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:31] "GET /stream-progress/78bbe5e9-c4d9-4705-8039-50c4c1e2b38f HTTP/1.1" 200 -
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Access ID: 56589de9cf
2025-05-06 12:30:31,853 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Single file workflow.
2025-05-06 12:30:31,876 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Compressed size: 2934
2025-05-06 12:30:31,894 - INFO - [Upload_78bb_0] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sending 'telegram_api.zip' (2934b) to -4603853425
2025-05-06 12:30:31,895 - INFO - [Upload_78bb_1] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sending 'telegram_api.zip' (2934b) to -1002614397019
2025-05-06 12:30:31,895 - INFO - [Upload_78bb_0] [send_file_to_telegram] - [ChatID -4603853425, File 'telegram_api.zip'] Attempting send.
2025-05-06 12:30:31,895 - INFO - [Upload_78bb_2] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sending 'telegram_api.zip' (2934b) to -4641852757
2025-05-06 12:30:31,895 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Submitted 3 single-file tasks.
2025-05-06 12:30:31,896 - INFO - [Upload_78bb_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'telegram_api.zip'] Attempting send.
2025-05-06 12:30:31,897 - INFO - [Upload_78bb_2] [send_file_to_telegram] - [ChatID -4641852757, File 'telegram_api.zip'] Attempting send.
2025-05-06 12:30:31,897 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Wait primary (-4603853425)...
2025-05-06 12:30:33,003 - INFO - [Upload_78bb_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'telegram_api.zip'] API success (Attempt 1).
2025-05-06 12:30:33,003 - INFO - [Upload_78bb_1] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sent 'telegram_api.zip' to -1002614397019. Success: True
2025-05-06 12:30:33,009 - INFO - [Upload_78bb_2] [send_file_to_telegram] - [ChatID -4641852757, File 'telegram_api.zip'] API success (Attempt 1).
2025-05-06 12:30:33,009 - INFO - [Upload_78bb_2] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sent 'telegram_api.zip' to -4641852757. Success: True
2025-05-06 12:30:33,013 - INFO - [Upload_78bb_0] [send_file_to_telegram] - [ChatID -4603853425, File 'telegram_api.zip'] API success (Attempt 1).
2025-05-06 12:30:33,013 - INFO - [Upload_78bb_0] [_send_single_file_task] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] T> Sent 'telegram_api.zip' to -4603853425. Success: True
2025-05-06 12:30:33,014 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Primary done. OK:True
2025-05-06 12:30:33,014 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Wait backups...
2025-05-06 12:30:33,014 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Single sends done in 1.13s.
2025-05-06 12:30:33,014 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Success: 3/3
2025-05-06 12:30:33,015 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Attempting to save metadata to DB...
2025-05-06 12:30:33,015 - INFO - [Thread-15 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-06 12:30:33,049 - INFO - [Thread-15 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: 56589de9cf
2025-05-06 12:30:33,051 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 6819b3901969d4a304aed1e7).
2025-05-06 12:30:33,057 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Upload generator cleanup.
2025-05-06 12:30:33,059 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Upload executor shutdown.
2025-05-06 12:30:33,060 - INFO - [Thread-15 (process_request_thread)] [_safe_remove_file] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Cleaned up original temp: uploads_temp\78bbe5e9-c4d9-4705-8039-50c4c1e2b38f_telegram_api.py
2025-05-06 12:30:33,062 - INFO - [Thread-15 (process_request_thread)] [process_upload_and_generate_updates] - [78bbe5e9-c4d9-4705-8039-50c4c1e2b38f] Upload generator finished. Status: completed
2025-05-06 12:30:36,471 - INFO - [Thread-16 (process_request_thread)] [index] - Serving index page.
2025-05-06 12:30:36,473 - INFO - [Thread-16 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:36] "GET / HTTP/1.1" 200 -
2025-05-06 12:30:37,966 - INFO - [Thread-18 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-06 12:30:37,968 - INFO - [Thread-18 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:37] "GET /register HTTP/1.1" 200 -
2025-05-06 12:30:41,752 - INFO - [Thread-17 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-06 12:30:41,753 - INFO - [Thread-17 (process_request_thread)] [_log] - 127.0.0.1 - - [06/May/2025 12:30:41] "GET /register HTTP/1.1" 200 -
