2025-05-02 15:54:30,819 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 15:54:30,819 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250502_155430.log
2025-05-02 15:54:30,820 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-02 15:54:30,820 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-02 15:54:30,820 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-02 15:54:30,821 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-02 15:54:30,821 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-02 15:54:30,822 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-02 15:54:30,822 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-02 15:54:30,822 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 15:54:30,823 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-02 15:54:30,824 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 15:54:30,824 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-02 15:54:30,824 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 15:54:30,825 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 15:54:30,827 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 15:54:30,827 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: *
2025-05-02 15:54:30,827 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 15:54:30,828 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 15:54:31,005 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-02 15:54:31,440 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-02 15:54:31,440 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-02 15:54:31,445 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-02 15:54:31,446 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-02 15:54:31,466 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-02 15:54:31,472 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-02 15:54:48,611 - INFO - [Thread-2 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 15:54:48] "OPTIONS /register HTTP/1.1" 200 -
2025-05-02 15:54:48,629 - INFO - [Thread-3 (process_request_thread)] [register_user] - Received registration request.
2025-05-02 15:54:48,633 - INFO - [Thread-3 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 15:54:48] "[31m[1mPOST /register HTTP/1.1[0m" 400 -
2025-05-02 16:02:15,995 - INFO - [Thread-4 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 16:02:15,998 - INFO - [Thread-4 (process_request_thread)] [initiate_upload] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Temp storage: uploads_temp\feba4c70-5434-4c5f-8ac8-365bd5de6676_clous.svg
2025-05-02 16:02:15,999 - INFO - [Thread-4 (process_request_thread)] [initiate_upload] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Temp saved: 'clous.svg'.
2025-05-02 16:02:16,000 - INFO - [Thread-4 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 16:02:16] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 16:02:16,021 - INFO - [Thread-5 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: feba4c70-5434-4c5f-8ac8-365bd5de6676
2025-05-02 16:02:16,022 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Starting processing generator...
2025-05-02 16:02:16,022 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Processing: User='admin', File='clous.svg'
2025-05-02 16:02:16,024 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Initialized Upload Executor (max=5)
2025-05-02 16:02:16,026 - INFO - [Thread-5 (process_request_thread)] [_log] - 192.168.1.19 - - [02/May/2025 16:02:16] "GET /stream-progress/feba4c70-5434-4c5f-8ac8-365bd5de6676 HTTP/1.1" 200 -
2025-05-02 16:02:16,026 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Access ID: cfbb88e9c4
2025-05-02 16:02:16,027 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Single file workflow.
2025-05-02 16:02:16,044 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Compressed size: 722
2025-05-02 16:02:16,045 - INFO - [Upload_feba_0] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sending 'clous.zip' (722b) to -4603853425
2025-05-02 16:02:16,046 - INFO - [Upload_feba_1] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sending 'clous.zip' (722b) to -1002614397019
2025-05-02 16:02:16,046 - INFO - [Upload_feba_0] [send_file_to_telegram] - [ChatID -4603853425, File 'clous.zip'] Attempting send.
2025-05-02 16:02:16,047 - INFO - [Upload_feba_2] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sending 'clous.zip' (722b) to -4641852757
2025-05-02 16:02:16,047 - INFO - [Upload_feba_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'clous.zip'] Attempting send.
2025-05-02 16:02:16,047 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Submitted 3 single-file tasks.
2025-05-02 16:02:16,049 - INFO - [Upload_feba_2] [send_file_to_telegram] - [ChatID -4641852757, File 'clous.zip'] Attempting send.
2025-05-02 16:02:16,052 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Wait primary (-4603853425)...
2025-05-02 16:02:17,134 - INFO - [Upload_feba_0] [send_file_to_telegram] - [ChatID -4603853425, File 'clous.zip'] API success (Attempt 1).
2025-05-02 16:02:17,137 - INFO - [Upload_feba_0] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sent 'clous.zip' to -4603853425. Success: True
2025-05-02 16:02:17,143 - INFO - [Upload_feba_2] [send_file_to_telegram] - [ChatID -4641852757, File 'clous.zip'] API success (Attempt 1).
2025-05-02 16:02:17,145 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Primary done. OK:True
2025-05-02 16:02:17,151 - INFO - [Upload_feba_2] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sent 'clous.zip' to -4641852757. Success: True
2025-05-02 16:02:17,155 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Wait backups...
2025-05-02 16:02:17,221 - INFO - [Upload_feba_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'clous.zip'] API success (Attempt 1).
2025-05-02 16:02:17,221 - INFO - [Upload_feba_1] [_send_single_file_task] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] T> Sent 'clous.zip' to -1002614397019. Success: True
2025-05-02 16:02:17,222 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Single sends done in 1.18s.
2025-05-02 16:02:17,223 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Success: 3/3
2025-05-02 16:02:17,224 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Attempting to save metadata to DB...
2025-05-02 16:02:17,228 - INFO - [Thread-5 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-02 16:02:18,805 - INFO - [Thread-5 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-02 16:02:18,805 - INFO - [Thread-5 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-02 16:02:18,805 - INFO - [Thread-5 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-02 16:02:18,849 - INFO - [Thread-5 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: cfbb88e9c4
2025-05-02 16:02:18,850 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 68149f321969d4a304aec4bd).
2025-05-02 16:02:18,851 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Upload generator cleanup.
2025-05-02 16:02:18,851 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Upload executor shutdown.
2025-05-02 16:02:18,852 - INFO - [Thread-5 (process_request_thread)] [_safe_remove_file] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Cleaned up original temp: uploads_temp\feba4c70-5434-4c5f-8ac8-365bd5de6676_clous.svg
2025-05-02 16:02:18,852 - INFO - [Thread-5 (process_request_thread)] [process_upload_and_generate_updates] - [feba4c70-5434-4c5f-8ac8-365bd5de6676] Upload generator finished. Status: completed
2025-05-02 16:02:24,867 - INFO - [MainThread] [_log] -  * Detected change in 'E:\\Telegram_tool\\Telegram_Bot_Tool\\routes.py', reloading
