2025-04-28 18:03:24,366 - INFO - [MainThread] [<module>] - ============================================================
2025-04-28 18:03:24,366 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250428_180324.log
2025-04-28 18:03:24,367 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-04-28 18:03:24,367 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-04-28 18:03:24,367 - INFO - [MainThread] [<module>] - Chunk Size: 20971520 bytes
2025-04-28 18:03:24,368 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-04-28 18:03:24,368 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-04-28 18:03:24,369 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-04-28 18:03:24,369 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-04-28 18:03:24,369 - INFO - [MainThread] [<module>] - ============================================================
2025-04-28 18:03:24,370 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-04-28 18:03:24,370 - INFO - [MainThread] [<module>] - Utility functions defined.
2025-04-28 18:03:24,372 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-04-28 18:03:24,373 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-04-28 18:03:24,374 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-04-28 18:03:24,374 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-04-28 18:03:24,375 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-04-28 18:03:24,376 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-04-28 18:03:24,376 - INFO - [MainThread] [<module>] - Global state variables initialized.
2025-04-28 18:03:24,833 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-04-28 18:03:24,834 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-04-28 18:03:24,837 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-04-28 18:03:24,838 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-04-28 18:03:24,867 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-04-28 18:03:24,867 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-04-28 18:03:28,736 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-04-28 18:03:28,757 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:28] "GET / HTTP/1.1" 200 -
2025-04-28 18:03:32,882 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-04-28 18:03:32,882 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [67404418-aeec-4b29-9b3b-d56d9c965912] Temp storage: uploads_temp\67404418-aeec-4b29-9b3b-d56d9c965912_index.html
2025-04-28 18:03:32,882 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [67404418-aeec-4b29-9b3b-d56d9c965912] Temp saved: 'index.html'.
2025-04-28 18:03:32,886 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:32] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-28 18:03:32,894 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 67404418-aeec-4b29-9b3b-d56d9c965912
2025-04-28 18:03:32,895 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Starting processing generator...
2025-04-28 18:03:32,895 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Processing: User='ELENA', File='index.html'
2025-04-28 18:03:32,895 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Initialized Upload Executor (max=5)
2025-04-28 18:03:32,896 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:32] "GET /stream-progress/67404418-aeec-4b29-9b3b-d56d9c965912 HTTP/1.1" 200 -
2025-04-28 18:03:32,897 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Access ID: a4c57e93f5
2025-04-28 18:03:32,898 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Single file workflow.
2025-04-28 18:03:32,956 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Compressed size: 10830
2025-04-28 18:03:32,956 - INFO - [Upload_6740_0] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sending 'index.zip' (10830b) to -4603853425
2025-04-28 18:03:32,956 - INFO - [Upload_6740_0] [send_file_to_telegram] - [ChatID -4603853425, File 'index.zip'] Attempting send.
2025-04-28 18:03:32,956 - INFO - [Upload_6740_1] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sending 'index.zip' (10830b) to -1002614397019
2025-04-28 18:03:32,956 - INFO - [Upload_6740_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'index.zip'] Attempting send.
2025-04-28 18:03:32,956 - INFO - [Upload_6740_2] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sending 'index.zip' (10830b) to -4641852757
2025-04-28 18:03:32,956 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Submitted 3 single-file tasks.
2025-04-28 18:03:32,956 - INFO - [Upload_6740_2] [send_file_to_telegram] - [ChatID -4641852757, File 'index.zip'] Attempting send.
2025-04-28 18:03:32,956 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Wait primary (-4603853425)...
2025-04-28 18:03:33,982 - INFO - [Upload_6740_2] [send_file_to_telegram] - [ChatID -4641852757, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:33,982 - INFO - [Upload_6740_2] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sent 'index.zip' to -4641852757. Success: True
2025-04-28 18:03:34,002 - INFO - [Upload_6740_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:34,002 - INFO - [Upload_6740_1] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sent 'index.zip' to -1002614397019. Success: True
2025-04-28 18:03:34,017 - INFO - [Upload_6740_0] [send_file_to_telegram] - [ChatID -4603853425, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:34,018 - INFO - [Upload_6740_0] [_send_single_file_task] - [67404418-aeec-4b29-9b3b-d56d9c965912] T> Sent 'index.zip' to -4603853425. Success: True
2025-04-28 18:03:34,019 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Primary done. OK:True
2025-04-28 18:03:34,021 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Wait backups...
2025-04-28 18:03:34,022 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Single sends done in 1.07s.
2025-04-28 18:03:34,024 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Success: 3/3
2025-04-28 18:03:34,032 - INFO - [Thread-4 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-28 18:03:34,047 - INFO - [Thread-4 (process_request_thread)] [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-28 18:03:34,050 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Upload generator cleanup.
2025-04-28 18:03:34,052 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Upload executor shutdown.
2025-04-28 18:03:34,054 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [67404418-aeec-4b29-9b3b-d56d9c965912] Cleaned up original temp: uploads_temp\67404418-aeec-4b29-9b3b-d56d9c965912_index.html
2025-04-28 18:03:34,061 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [67404418-aeec-4b29-9b3b-d56d9c965912] Upload generator finished. Status: completed
2025-04-28 18:03:40,131 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-04-28 18:03:40,145 - INFO - [Thread-5 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-28 18:03:40,148 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - Found 3 records for 'ELENA'.
2025-04-28 18:03:40,151 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:40] "GET /files/ELENA HTTP/1.1" 200 -
2025-04-28 18:03:42,422 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:42] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:43,160 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:43] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:43,593 - INFO - [Thread-8 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:43] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:43,766 - INFO - [Thread-9 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:43] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:43,934 - INFO - [Thread-10 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:43] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:44,100 - INFO - [Thread-11 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:44] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:44,280 - INFO - [Thread-12 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:44] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:44,462 - INFO - [Thread-13 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:44] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:48,468 - INFO - [Thread-14 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:48] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:48,659 - INFO - [Thread-15 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:48] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:48,848 - INFO - [Thread-16 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:48] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:49,014 - INFO - [Thread-17 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:49] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:49,179 - INFO - [Thread-18 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:49] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:49,347 - INFO - [Thread-19 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:49] "[33mGET /prepare-download/ELENA/index.html HTTP/1.1[0m" 404 -
2025-04-28 18:03:52,077 - INFO - [Thread-20 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-04-28 18:03:52,079 - INFO - [Thread-20 (process_request_thread)] [initiate_upload] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Temp storage: uploads_temp\9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c_index.html
2025-04-28 18:03:52,079 - INFO - [Thread-20 (process_request_thread)] [initiate_upload] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Temp saved: 'index.html'.
2025-04-28 18:03:52,080 - INFO - [Thread-20 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:52] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-28 18:03:52,092 - INFO - [Thread-21 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c
2025-04-28 18:03:52,093 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Starting processing generator...
2025-04-28 18:03:52,093 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Processing: User='ELENA', File='index.html'
2025-04-28 18:03:52,094 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Initialized Upload Executor (max=5)
2025-04-28 18:03:52,096 - INFO - [Thread-21 (process_request_thread)] [_log] - 127.0.0.1 - - [28/Apr/2025 18:03:52] "GET /stream-progress/9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c HTTP/1.1" 200 -
2025-04-28 18:03:52,098 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Access ID: 87ff04dde4
2025-04-28 18:03:52,099 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Single file workflow.
2025-04-28 18:03:52,141 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Compressed size: 10830
2025-04-28 18:03:52,141 - INFO - [Upload_9ed3_0] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sending 'index.zip' (10830b) to -4603853425
2025-04-28 18:03:52,141 - INFO - [Upload_9ed3_0] [send_file_to_telegram] - [ChatID -4603853425, File 'index.zip'] Attempting send.
2025-04-28 18:03:52,141 - INFO - [Upload_9ed3_1] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sending 'index.zip' (10830b) to -1002614397019
2025-04-28 18:03:52,141 - INFO - [Upload_9ed3_2] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sending 'index.zip' (10830b) to -4641852757
2025-04-28 18:03:52,141 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Submitted 3 single-file tasks.
2025-04-28 18:03:52,155 - INFO - [Upload_9ed3_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'index.zip'] Attempting send.
2025-04-28 18:03:52,157 - INFO - [Upload_9ed3_2] [send_file_to_telegram] - [ChatID -4641852757, File 'index.zip'] Attempting send.
2025-04-28 18:03:52,158 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Wait primary (-4603853425)...
2025-04-28 18:03:52,841 - INFO - [Upload_9ed3_0] [send_file_to_telegram] - [ChatID -4603853425, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:52,841 - INFO - [Upload_9ed3_0] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sent 'index.zip' to -4603853425. Success: True
2025-04-28 18:03:52,842 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Primary done. OK:True
2025-04-28 18:03:52,842 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Wait backups...
2025-04-28 18:03:52,844 - INFO - [Upload_9ed3_2] [send_file_to_telegram] - [ChatID -4641852757, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:52,844 - INFO - [Upload_9ed3_2] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sent 'index.zip' to -4641852757. Success: True
2025-04-28 18:03:52,863 - INFO - [Upload_9ed3_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'index.zip'] API success (Attempt 1).
2025-04-28 18:03:52,865 - INFO - [Upload_9ed3_1] [_send_single_file_task] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] T> Sent 'index.zip' to -1002614397019. Success: True
2025-04-28 18:03:52,866 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Single sends done in 0.73s.
2025-04-28 18:03:52,866 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Success: 3/3
2025-04-28 18:03:52,868 - INFO - [Thread-21 (process_request_thread)] [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-28 18:03:52,880 - INFO - [Thread-21 (process_request_thread)] [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-28 18:03:52,881 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Upload generator cleanup.
2025-04-28 18:03:52,883 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Upload executor shutdown.
2025-04-28 18:03:52,884 - INFO - [Thread-21 (process_request_thread)] [_safe_remove_file] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Cleaned up original temp: uploads_temp\9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c_index.html
2025-04-28 18:03:52,885 - INFO - [Thread-21 (process_request_thread)] [process_upload_and_generate_updates] - [9ed39348-9b1b-4ddf-b921-4f9a7b15fd6c] Upload generator finished. Status: completed
