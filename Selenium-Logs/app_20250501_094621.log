2025-05-01 09:46:21,128 - INFO - [MainThread] [<module>] - ============================================================
2025-05-01 09:46:21,128 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250501_094621.log
2025-05-01 09:46:21,129 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-01 09:46:21,129 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425']
2025-05-01 09:46:21,129 - WARNING - [MainThread] [format_bytes] - Error formatting bytes (20971520): name 'math' is not defined
2025-05-01 09:46:21,130 - INFO - [MainThread] [<module>] - Chunk Size: 20971520 B (20971520 bytes)
2025-05-01 09:46:21,130 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-01 09:46:21,131 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-01 09:46:21,131 - INFO - [MainThread] [<module>] - Max Upload Workers: 3
2025-05-01 09:46:21,131 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-01 09:46:21,131 - INFO - [MainThread] [<module>] - ============================================================
2025-05-01 09:46:21,132 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-01 09:46:21,133 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-01 09:46:21,133 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-01 09:46:21,134 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-01 09:46:21,134 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-01 09:46:21,136 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-01 09:46:21,137 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-01 09:46:21,137 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-01 09:46:21,137 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-01 09:46:21,309 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-01 09:46:21,755 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-01 09:46:21,756 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-01 09:46:21,760 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-01 09:46:21,761 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-01 09:46:21,784 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-01 09:46:21,789 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-01 09:46:23,561 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-01 09:46:23,576 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:46:23] "GET / HTTP/1.1" 200 -
2025-05-01 09:46:27,965 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-01 09:46:27,967 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [7403d82c-3396-40b8-904e-c8add7a27907] Temp storage: uploads_temp\7403d82c-3396-40b8-904e-c8add7a27907_requirements.txt
2025-05-01 09:46:27,968 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [7403d82c-3396-40b8-904e-c8add7a27907] Temp saved: 'requirements.txt'.
2025-05-01 09:46:27,969 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:46:27] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-01 09:46:27,978 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 7403d82c-3396-40b8-904e-c8add7a27907
2025-05-01 09:46:27,978 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Starting processing generator...
2025-05-01 09:46:27,979 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Processing: User='ELENA', File='requirements.txt'
2025-05-01 09:46:27,979 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:46:27] "GET /stream-progress/7403d82c-3396-40b8-904e-c8add7a27907 HTTP/1.1" 200 -
2025-05-01 09:46:27,980 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Access ID: e7b2784d2f
2025-05-01 09:46:27,980 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Single file workflow.
2025-05-01 09:46:27,983 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Compressed size: 255
2025-05-01 09:46:27,985 - INFO - [Thread-4 (process_request_thread)] [_send_single_file_task] - [7403d82c-3396-40b8-904e-c8add7a27907] T> Sending 'requirements.zip' (255b) to -4603853425
2025-05-01 09:46:27,986 - INFO - [Thread-4 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'requirements.zip'] Attempting send.
2025-05-01 09:46:28,987 - INFO - [Thread-4 (process_request_thread)] [send_file_to_telegram] - [ChatID -4603853425, File 'requirements.zip'] API success (Attempt 1).
2025-05-01 09:46:28,989 - INFO - [Thread-4 (process_request_thread)] [_send_single_file_task] - [7403d82c-3396-40b8-904e-c8add7a27907] T> Sent 'requirements.zip' to -4603853425. Success: True
2025-05-01 09:46:28,990 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Single sends done in 1.00s.
2025-05-01 09:46:28,990 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Success: 1/1
2025-05-01 09:46:28,991 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Attempting to save metadata to DB...
2025-05-01 09:46:28,992 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-01 09:46:30,005 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-01 09:46:30,006 - INFO - [Thread-4 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-01 09:46:30,006 - INFO - [Thread-4 (process_request_thread)] [get_metadata_collection] - Accessed collection: file_metadata
2025-05-01 09:46:30,076 - INFO - [Thread-4 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: e7b2784d2f
2025-05-01 09:46:30,077 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 6812f59e1969d4a304aeb130).
2025-05-01 09:46:30,078 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Upload generator cleanup.
2025-05-01 09:46:30,079 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [7403d82c-3396-40b8-904e-c8add7a27907] Cleaned up original temp: uploads_temp\7403d82c-3396-40b8-904e-c8add7a27907_requirements.txt
2025-05-01 09:46:30,080 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [7403d82c-3396-40b8-904e-c8add7a27907] Upload generator finished. Status: completed
2025-05-01 09:47:13,709 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-05-01 09:47:13,710 - INFO - [Thread-5 (process_request_thread)] [list_user_files] - Fetching files for user 'ELENA' from DB...
2025-05-01 09:47:13,779 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:47:13] "[35m[1mGET /files/ELENA HTTP/1.1[0m" 500 -
2025-05-01 09:47:14,925 - INFO - [Thread-6 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-05-01 09:47:14,926 - INFO - [Thread-6 (process_request_thread)] [list_user_files] - Fetching files for user 'ELENA' from DB...
2025-05-01 09:47:14,938 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:47:14] "[35m[1mGET /files/ELENA HTTP/1.1[0m" 500 -
2025-05-01 09:47:17,099 - INFO - [Thread-7 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-05-01 09:47:17,099 - INFO - [Thread-7 (process_request_thread)] [list_user_files] - Fetching files for user 'ELENA' from DB...
2025-05-01 09:47:17,106 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:47:17] "[35m[1mGET /files/ELENA HTTP/1.1[0m" 500 -
2025-05-01 09:47:17,446 - INFO - [Thread-8 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-05-01 09:47:17,447 - INFO - [Thread-8 (process_request_thread)] [list_user_files] - Fetching files for user 'ELENA' from DB...
2025-05-01 09:47:17,454 - INFO - [Thread-8 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:47:17] "[35m[1mGET /files/ELENA HTTP/1.1[0m" 500 -
2025-05-01 09:47:17,645 - INFO - [Thread-9 (process_request_thread)] [list_user_files] - List files request for: 'ELENA'
2025-05-01 09:47:17,646 - INFO - [Thread-9 (process_request_thread)] [list_user_files] - Fetching files for user 'ELENA' from DB...
2025-05-01 09:47:17,653 - INFO - [Thread-9 (process_request_thread)] [_log] - 127.0.0.1 - - [01/May/2025 09:47:17] "[35m[1mGET /files/ELENA HTTP/1.1[0m" 500 -
