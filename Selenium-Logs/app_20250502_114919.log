2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250502_114919.log
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - Chunk Size: 20.0 MB (20971520 bytes)
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-02 11:49:19,764 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-02 11:49:19,774 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-02 11:49:19,776 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-02 11:49:19,776 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:49:19,778 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-02 11:49:19,778 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:49:19,778 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:49:19,778 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:49:19,778 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:49:19,784 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:49:19,784 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:49:19,784 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:49:19,784 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:49:19,979 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-02 11:49:20,454 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-02 11:49:20,454 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-02 11:49:20,459 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-02 11:49:20,462 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-02 11:49:20,485 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-02 11:49:20,497 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-02 11:49:29,252 - INFO - [Thread-2 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:49:29,314 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:29] "GET / HTTP/1.1" 200 -
2025-05-02 11:49:31,374 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:49:31,384 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:31] "GET / HTTP/1.1" 200 -
2025-05-02 11:49:31,438 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-05-02 11:49:38,862 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:38] "GET /login HTTP/1.1" 200 -
2025-05-02 11:49:49,103 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:49] "[32mPOST /login HTTP/1.1[0m" 302 -
2025-05-02 11:49:49,110 - INFO - [Thread-8 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:49:49,113 - INFO - [Thread-8 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:49] "GET / HTTP/1.1" 200 -
2025-05-02 11:49:57,837 - INFO - [Thread-7 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 11:49:57,841 - INFO - [Thread-7 (process_request_thread)] [initiate_upload] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Temp storage: uploads_temp\68d6dccc-e5eb-4d32-a1d8-d5aff9172061_login.html
2025-05-02 11:49:57,844 - INFO - [Thread-7 (process_request_thread)] [initiate_upload] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Temp saved: 'login.html'.
2025-05-02 11:49:57,847 - INFO - [Thread-7 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:57] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 11:49:57,868 - INFO - [Thread-9 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: 68d6dccc-e5eb-4d32-a1d8-d5aff9172061
2025-05-02 11:49:57,868 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Starting processing generator...
2025-05-02 11:49:57,868 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Processing: User='admin', File='login.html'
2025-05-02 11:49:57,879 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Initialized Upload Executor (max=5)
2025-05-02 11:49:57,881 - INFO - [Thread-9 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:49:57] "GET /stream-progress/68d6dccc-e5eb-4d32-a1d8-d5aff9172061 HTTP/1.1" 200 -
2025-05-02 11:49:57,882 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Access ID: 8cd16707c1
2025-05-02 11:49:57,890 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Single file workflow.
2025-05-02 11:49:57,897 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Compressed size: 478
2025-05-02 11:49:57,912 - INFO - [Upload_68d6_0] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sending 'login.zip' (478b) to -4603853425
2025-05-02 11:49:57,914 - INFO - [Upload_68d6_0] [send_file_to_telegram] - [ChatID -4603853425, File 'login.zip'] Attempting send.
2025-05-02 11:49:57,914 - INFO - [Upload_68d6_1] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sending 'login.zip' (478b) to -1002614397019
2025-05-02 11:49:57,918 - INFO - [Upload_68d6_2] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sending 'login.zip' (478b) to -4641852757
2025-05-02 11:49:57,919 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Submitted 3 single-file tasks.
2025-05-02 11:49:57,919 - INFO - [Upload_68d6_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'login.zip'] Attempting send.
2025-05-02 11:49:57,920 - INFO - [Upload_68d6_2] [send_file_to_telegram] - [ChatID -4641852757, File 'login.zip'] Attempting send.
2025-05-02 11:49:57,920 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Wait primary (-4603853425)...
2025-05-02 11:49:58,948 - INFO - [Upload_68d6_2] [send_file_to_telegram] - [ChatID -4641852757, File 'login.zip'] API success (Attempt 1).
2025-05-02 11:49:58,948 - INFO - [Upload_68d6_2] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sent 'login.zip' to -4641852757. Success: True
2025-05-02 11:49:58,955 - INFO - [Upload_68d6_0] [send_file_to_telegram] - [ChatID -4603853425, File 'login.zip'] API success (Attempt 1).
2025-05-02 11:49:58,957 - INFO - [Upload_68d6_0] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sent 'login.zip' to -4603853425. Success: True
2025-05-02 11:49:58,958 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Primary done. OK:True
2025-05-02 11:49:58,959 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Wait backups...
2025-05-02 11:49:58,985 - INFO - [Upload_68d6_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'login.zip'] API success (Attempt 1).
2025-05-02 11:49:58,986 - INFO - [Upload_68d6_1] [_send_single_file_task] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] T> Sent 'login.zip' to -1002614397019. Success: True
2025-05-02 11:49:58,986 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Single sends done in 1.09s.
2025-05-02 11:49:58,987 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Success: 3/3
2025-05-02 11:49:58,987 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Attempting to save metadata to DB...
2025-05-02 11:49:58,988 - INFO - [Thread-9 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-02 11:49:59,857 - INFO - [Thread-9 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-02 11:49:59,857 - INFO - [Thread-9 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-02 11:49:59,857 - INFO - [Thread-9 (process_request_thread)] [get_metadata_collection] - Accessed collection: user_files
2025-05-02 11:49:59,914 - INFO - [Thread-9 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: 8cd16707c1
2025-05-02 11:49:59,915 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 681464101969d4a304aec0ee).
2025-05-02 11:49:59,917 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Upload generator cleanup.
2025-05-02 11:49:59,924 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Upload executor shutdown.
2025-05-02 11:49:59,928 - INFO - [Thread-9 (process_request_thread)] [_safe_remove_file] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Cleaned up original temp: uploads_temp\68d6dccc-e5eb-4d32-a1d8-d5aff9172061_login.html
2025-05-02 11:49:59,929 - INFO - [Thread-9 (process_request_thread)] [process_upload_and_generate_updates] - [68d6dccc-e5eb-4d32-a1d8-d5aff9172061] Upload generator finished. Status: completed
2025-05-02 11:50:17,103 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - List files request for: 'your@email.com'
2025-05-02 11:50:17,103 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - Fetching files for user 'your@email.com' from DB...
2025-05-02 11:50:17,121 - INFO - [Thread-10 (process_request_thread)] [find_metadata_by_username] - Found 0 metadata records for username: your@email.com
2025-05-02 11:50:17,122 - INFO - [Thread-10 (process_request_thread)] [list_user_files] - Found 0 records for 'your@email.com'.
2025-05-02 11:50:17,123 - INFO - [Thread-10 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:50:17] "GET /files/your@email.com HTTP/1.1" 200 -
