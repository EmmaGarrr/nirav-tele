2025-05-02 11:03:18,534 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - Logging configured. Level: INFO. Log file: Selenium-Logs\app_20250502_110318.log
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - Primary Chat ID: -4603853425
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - All Target Chat IDs: ['-4603853425', '-1002614397019', '-4641852757']
2025-05-02 11:03:18,550 - WARNING - [MainThread] [format_bytes] - Error formatting bytes (20971520): name 'math' is not defined
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - Chunk Size: 20971520 B (20971520 bytes)
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - API Timeouts (Connect/Read): 10s / 60s
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - API Retries: 3 attempts, 2s delay
2025-05-02 11:03:18,550 - INFO - [MainThread] [<module>] - Max Upload Workers: 5
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - Max Download Workers: 12
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - ============================================================
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - Configuration loaded successfully.
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:03:18,553 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:03:18,557 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:03:18,559 - INFO - [MainThread] [<module>] - Custom Jinja filter 'format_bytes' registered.
2025-05-02 11:03:18,561 - INFO - [MainThread] [<module>] - Flask-CORS initialized. Allowing origins: http://localhost:4200
2025-05-02 11:03:18,562 - INFO - [MainThread] [<module>] - Flask application initialized.
2025-05-02 11:03:18,562 - INFO - [MainThread] [<module>] - Global state variables initialized (upload_progress_data, download_prep_data).
2025-05-02 11:03:18,726 - INFO - [MainThread] [<module>] - Database module initialized.
2025-05-02 11:03:19,204 - INFO - [MainThread] [<module>] - Initialized requests.Session for Telegram API calls.
2025-05-02 11:03:19,204 - INFO - [MainThread] [<module>] - Telegram API functions defined with Session and Retries.
2025-05-02 11:03:19,204 - INFO - [MainThread] [<module>] - Flask routes defined using configurable workers and linter fixes.
2025-05-02 11:03:19,204 - INFO - [MainThread] [<module>] - Starting Flask development server...
2025-05-02 11:03:19,234 - WARNING - [MainThread] [_log] -  * Debugger is active!
2025-05-02 11:03:19,244 - INFO - [MainThread] [_log] -  * Debugger PIN: 107-410-311
2025-05-02 11:03:22,496 - INFO - [Thread-3 (process_request_thread)] [index] - Serving index page.
2025-05-02 11:03:22,626 - INFO - [Thread-3 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:03:22] "GET / HTTP/1.1" 200 -
2025-05-02 11:03:40,808 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - Request initiate upload.
2025-05-02 11:03:40,820 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Temp storage: uploads_temp\d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d_download_page.html
2025-05-02 11:03:40,822 - INFO - [Thread-2 (process_request_thread)] [initiate_upload] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Temp saved: 'download_page.html'.
2025-05-02 11:03:40,824 - INFO - [Thread-2 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:03:40] "POST /initiate-upload HTTP/1.1" 200 -
2025-05-02 11:03:40,829 - INFO - [Thread-4 (process_request_thread)] [stream_progress] - SSE connect request for upload_id: d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d
2025-05-02 11:03:40,830 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Starting processing generator...
2025-05-02 11:03:40,830 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Processing: User='Grady', File='download_page.html'
2025-05-02 11:03:40,831 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Initialized Upload Executor (max=5)
2025-05-02 11:03:40,834 - INFO - [Thread-4 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:03:40] "GET /stream-progress/d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d HTTP/1.1" 200 -
2025-05-02 11:03:40,835 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Access ID: 1307d27f0d
2025-05-02 11:03:40,836 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Single file workflow.
2025-05-02 11:03:40,931 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Compressed size: 4401
2025-05-02 11:03:40,935 - INFO - [Upload_d8f7_0] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sending 'download_page.zip' (4401b) to -4603853425
2025-05-02 11:03:40,936 - INFO - [Upload_d8f7_0] [send_file_to_telegram] - [ChatID -4603853425, File 'download_page.zip'] Attempting send.
2025-05-02 11:03:40,936 - INFO - [Upload_d8f7_1] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sending 'download_page.zip' (4401b) to -1002614397019
2025-05-02 11:03:40,936 - INFO - [Upload_d8f7_2] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sending 'download_page.zip' (4401b) to -4641852757
2025-05-02 11:03:40,936 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Submitted 3 single-file tasks.
2025-05-02 11:03:40,938 - INFO - [Upload_d8f7_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'download_page.zip'] Attempting send.
2025-05-02 11:03:40,940 - INFO - [Upload_d8f7_2] [send_file_to_telegram] - [ChatID -4641852757, File 'download_page.zip'] Attempting send.
2025-05-02 11:03:40,940 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Wait primary (-4603853425)...
2025-05-02 11:03:41,950 - INFO - [Upload_d8f7_2] [send_file_to_telegram] - [ChatID -4641852757, File 'download_page.zip'] API success (Attempt 1).
2025-05-02 11:03:41,951 - INFO - [Upload_d8f7_2] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sent 'download_page.zip' to -4641852757. Success: True
2025-05-02 11:03:41,960 - INFO - [Upload_d8f7_1] [send_file_to_telegram] - [ChatID -1002614397019, File 'download_page.zip'] API success (Attempt 1).
2025-05-02 11:03:41,960 - INFO - [Upload_d8f7_1] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sent 'download_page.zip' to -1002614397019. Success: True
2025-05-02 11:03:41,982 - INFO - [Upload_d8f7_0] [send_file_to_telegram] - [ChatID -4603853425, File 'download_page.zip'] API success (Attempt 1).
2025-05-02 11:03:41,983 - INFO - [Upload_d8f7_0] [_send_single_file_task] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] T> Sent 'download_page.zip' to -4603853425. Success: True
2025-05-02 11:03:41,983 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Primary done. OK:True
2025-05-02 11:03:41,984 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Wait backups...
2025-05-02 11:03:41,984 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Single sends done in 1.05s.
2025-05-02 11:03:41,984 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Success: 3/3
2025-05-02 11:03:41,985 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Attempting to save metadata to DB...
2025-05-02 11:03:42,008 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - Attempting to connect to MongoDB Atlas host: telegrambot.6armfs2.mongodb.net...
2025-05-02 11:03:43,439 - INFO - [Thread-4 (process_request_thread)] [_connect_to_db] - âœ… Successfully connected and pinged MongoDB Atlas!
2025-05-02 11:03:43,440 - INFO - [Thread-4 (process_request_thread)] [get_db] - Accessed database: Telegrambot
2025-05-02 11:03:43,440 - INFO - [Thread-4 (process_request_thread)] [get_metadata_collection] - Accessed collection: file_metadata
2025-05-02 11:03:43,470 - INFO - [Thread-4 (process_request_thread)] [save_file_metadata] - Successfully inserted metadata for access_id: 1307d27f0d
2025-05-02 11:03:43,471 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Metadata successfully saved to DB. Msg: Metadata inserted (ID: 681459371969d4a304aec03c).
2025-05-02 11:03:43,472 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Upload generator cleanup.
2025-05-02 11:03:43,472 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Upload executor shutdown.
2025-05-02 11:03:43,473 - INFO - [Thread-4 (process_request_thread)] [_safe_remove_file] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Cleaned up original temp: uploads_temp\d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d_download_page.html
2025-05-02 11:03:43,475 - INFO - [Thread-4 (process_request_thread)] [process_upload_and_generate_updates] - [d8f74cc3-edf7-4a7f-8ddd-d6aee2f06f7d] Upload generator finished. Status: completed
2025-05-02 11:05:40,794 - INFO - [Thread-5 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-02 11:05:40,803 - INFO - [Thread-5 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:05:40] "GET /register HTTP/1.1" 200 -
2025-05-02 11:06:21,631 - INFO - [Thread-6 (process_request_thread)] [show_register_page] - Serving registration page.
2025-05-02 11:06:21,632 - INFO - [Thread-6 (process_request_thread)] [_log] - 127.0.0.1 - - [02/May/2025 11:06:21] "GET /register?first_name=m&last_name=borad&email=mbo12@gmail.com&password=mbo@234&repeat_password=mbo@234&agree_terms=on&understand_privacy=on HTTP/1.1" 200 -
