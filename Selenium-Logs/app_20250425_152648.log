2025-04-25 15:26:48,177 - INFO - [<module>] - Logging configured. Log file: Selenium-Logs\app_20250425_152648.log
2025-04-25 15:26:48,178 - INFO - [<module>] - Flask application initialized.
2025-04-25 15:26:48,180 - INFO - [<module>] - Starting Flask development server...
2025-04-25 15:26:48,214 - WARNING - [_log] -  * Debugger is active!
2025-04-25 15:26:48,226 - INFO - [_log] -  * Debugger PIN: 107-410-311
2025-04-25 15:27:28,057 - INFO - [index] - Serving index page.
2025-04-25 15:27:28,130 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:27:28] "GET /?vscodeBrowserReqId=1745575048032 HTTP/1.1" 200 -
2025-04-25 15:27:28,174 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:27:28] "[33mGET /static/style.css HTTP/1.1[0m" 404 -
2025-04-25 15:27:36,884 - INFO - [initiate_upload] - Received request to initiate upload.
2025-04-25 15:27:36,896 - INFO - [initiate_upload] - Saving temporary file for upload_id 'fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5' to 'uploads_temp\fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5_metadata_handler.py'
2025-04-25 15:27:36,897 - INFO - [initiate_upload] - Temporary file saved successfully for 'metadata_handler.py' (ID: fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5).
2025-04-25 15:27:36,897 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:27:36] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-25 15:27:36,903 - INFO - [stream_progress] - SSE connection request for upload_id: fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5
2025-04-25 15:27:36,904 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Starting processing...
2025-04-25 15:27:36,905 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Processing upload: User='yrrr', File='metadata_handler.py', TempPath='uploads_temp\fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5_metadata_handler.py'
2025-04-25 15:27:36,905 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Original temp file size: 1974 bytes.
2025-04-25 15:27:36,905 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:27:36] "GET /stream-progress/fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5 HTTP/1.1" 200 -
2025-04-25 15:27:36,907 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Generated Access ID: e6605b4836
2025-04-25 15:27:36,907 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] 'metadata_handler.py' is small. Compressing and sending as single file.
2025-04-25 15:27:36,912 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Compressed 'metadata_handler.py' to 733 bytes.
2025-04-25 15:27:36,912 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Attempting send 'metadata_handler.py.zip' to chat ID: -4603853425
2025-04-25 15:27:36,913 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -4603853425
2025-04-25 15:27:38,002 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:27:38,008 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Attempting send 'metadata_handler.py.zip' to chat ID: -1002614397019
2025-04-25 15:27:38,028 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -1002614397019
2025-04-25 15:27:39,006 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:27:39,006 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Attempting send 'metadata_handler.py.zip' to chat ID: -4641852757
2025-04-25 15:27:39,007 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -4641852757
2025-04-25 15:27:40,072 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:27:40,073 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Single file 'metadata_handler.py' sent successfully to PRIMARY chat ID -4603853425.
2025-04-25 15:27:40,073 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Total successful sends (including backups): 3 / 3
2025-04-25 15:27:40,075 - ERROR - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Inconsistency: Primary send succeeded but failed to extract IDs from its response: {'ok': True, 'result': {'message_id': 869, 'from': {'id': 7812479394, 'is_bot': True, 'first_name': 'Harry Bot', 'username': 'hhhHarryBot'}, 'chat': {'id': -4603853425, 'title': 'AGroup', 'type': 'group', 'all_members_are_administrators': True, 'accepted_gift_types': {'unlimited_gifts': False, 'limited_gifts': False, 'unique_gifts': False, 'premium_subscription': False}}, 'date': 1745575057, 'document': {'file_name': 'metadata_handler.py.zip', 'mime_type': 'application/zip', 'file_id': 'BQACAgUAAxkDAAIDZWgLXJHI2cQ1m8W47sqRRESwQBZZAAIJFgACd1RhVNI_5dbAxxO1NgQ', 'file_unique_id': 'AgADCRYAAndUYVQ', 'file_size': 733}}}
2025-04-25 15:27:40,083 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-25 15:27:40,097 - INFO - [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-25 15:27:40,097 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Generated landing page URL: http://localhost:5000/get/e6605b4836
2025-04-25 15:27:40,098 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Entering final cleanup.
2025-04-25 15:27:40,100 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Successfully deleted original temporary file: uploads_temp\fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5_metadata_handler.py
2025-04-25 15:27:40,104 - INFO - [process_upload_and_generate_updates] - [fbe8799f-e3dd-4d2c-9ed9-5cdaeed8f4a5] Processing finished with status: completed
2025-04-25 15:28:01,096 - INFO - [list_user_files] - Request received to list files for user: 'yrrr'
2025-04-25 15:28:01,114 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-25 15:28:01,115 - INFO - [list_user_files] - Found 1 file records for user 'yrrr'.
2025-04-25 15:28:01,115 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:28:01] "GET /files/yrrr HTTP/1.1" 200 -
2025-04-25 15:28:02,180 - INFO - [prepare_download_stream] - [c1a852c9-f969-4e39-84e2-397765f8067d] SSE connection request for download prep: User='yrrr', File='metadata_handler.py'
2025-04-25 15:28:02,180 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Starting download preparation generator for user 'yrrr', file 'metadata_handler.py'...
2025-04-25 15:28:02,182 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:28:02] "GET /prepare-download/yrrr/metadata_handler.py HTTP/1.1" 200 -
2025-04-25 15:28:02,390 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-25 15:28:02,392 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Prep non-split 'metadata_handler.py'
2025-04-25 15:28:02,394 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Using primary file_id: BQACAgUAAxkDAAIDZWgLXJHI2cQ1m8W47sqRRESwQBZZAAIJFgACd1RhVNI_5dbAxxO1NgQ from chat -4603853425
2025-04-25 15:28:02,394 - INFO - [download_telegram_file_content] - Attempting to get download URL for file_id: BQACAgUAAxkDAAIDZWgLXJHI2cQ1m8W47sqRRESwQBZZAAIJFgACd1RhVNI_5dbAxxO1NgQ
2025-04-25 15:28:03,164 - INFO - [download_telegram_file_content] - Obtained temporary download URL: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_417.zip
2025-04-25 15:28:03,164 - INFO - [download_telegram_file_content] - Attempting to download content from: https://api.telegram.org/file/bot7812479394:AAFrzOcHGKfc-1iOUbVEkptJkooaJrXHAxs/documents/file_417.zip
2025-04-25 15:28:03,631 - INFO - [download_telegram_file_content] - Successfully downloaded 733 bytes for file_id BQACAgUAAxkDAAIDZWgLXJHI2cQ1m8W47sqRRESwQBZZAAIJFgACd1RhVNI_5dbAxxO1NgQ.
2025-04-25 15:28:03,631 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Decompressing single file...
2025-04-25 15:28:03,732 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Final prepared file: 'E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_decomp_c1a852c9-f969-4e39-84e2-397765f8067d_ydigueyh', Size: 1974
2025-04-25 15:28:03,743 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Preparation complete. Sent 'ready' event.
2025-04-25 15:28:03,842 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Generator finished or errored. Cleaning up intermediate files.
2025-04-25 15:28:03,842 - INFO - [serve_temp_file] - Request to serve temporary download file for ID: c1a852c9-f969-4e39-84e2-397765f8067d, Filename: metadata_handler.py
2025-04-25 15:28:03,842 - INFO - [_prepare_download_and_generate_updates] - [c1a852c9-f969-4e39-84e2-397765f8067d] Generator task ended.
2025-04-25 15:28:03,842 - INFO - [serve_temp_file] - [c1a852c9-f969-4e39-84e2-397765f8067d] Preparing streaming response for 'metadata_handler.py' from 'E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_decomp_c1a852c9-f969-4e39-84e2-397765f8067d_ydigueyh'
2025-04-25 15:28:03,842 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:28:03] "GET /serve-temp-file/c1a852c9-f969-4e39-84e2-397765f8067d/metadata_handler.py HTTP/1.1" 200 -
2025-04-25 15:28:03,851 - INFO - [generate_and_cleanup] - [c1a852c9-f969-4e39-84e2-397765f8067d] Finished streaming file: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_decomp_c1a852c9-f969-4e39-84e2-397765f8067d_ydigueyh
2025-04-25 15:28:03,851 - INFO - [generate_and_cleanup] - [c1a852c9-f969-4e39-84e2-397765f8067d] Cleaning up final temp file post-streaming: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_decomp_c1a852c9-f969-4e39-84e2-397765f8067d_ydigueyh
2025-04-25 15:28:03,852 - INFO - [generate_and_cleanup] - [c1a852c9-f969-4e39-84e2-397765f8067d] Successfully deleted final temp file: E:\Telegram_tool\Telegram_Bot_Tool\uploads_temp\dl_decomp_c1a852c9-f969-4e39-84e2-397765f8067d_ydigueyh
2025-04-25 15:28:48,826 - INFO - [initiate_upload] - Received request to initiate upload.
2025-04-25 15:28:48,828 - INFO - [initiate_upload] - Saving temporary file for upload_id '6bf8d043-206f-411b-a550-b83715d49ed7' to 'uploads_temp\6bf8d043-206f-411b-a550-b83715d49ed7_metadata_handler.py'
2025-04-25 15:28:48,832 - INFO - [initiate_upload] - Temporary file saved successfully for 'metadata_handler.py' (ID: 6bf8d043-206f-411b-a550-b83715d49ed7).
2025-04-25 15:28:48,834 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:28:48] "POST /initiate-upload HTTP/1.1" 200 -
2025-04-25 15:28:48,839 - INFO - [stream_progress] - SSE connection request for upload_id: 6bf8d043-206f-411b-a550-b83715d49ed7
2025-04-25 15:28:48,841 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Starting processing...
2025-04-25 15:28:48,842 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Processing upload: User='yrrr', File='metadata_handler.py', TempPath='uploads_temp\6bf8d043-206f-411b-a550-b83715d49ed7_metadata_handler.py'
2025-04-25 15:28:48,842 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Original temp file size: 1974 bytes.
2025-04-25 15:28:48,843 - INFO - [_log] - 127.0.0.1 - - [25/Apr/2025 15:28:48] "GET /stream-progress/6bf8d043-206f-411b-a550-b83715d49ed7 HTTP/1.1" 200 -
2025-04-25 15:28:48,843 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Generated Access ID: 8a4c3d49c7
2025-04-25 15:28:48,844 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] 'metadata_handler.py' is small. Compressing and sending as single file.
2025-04-25 15:28:48,851 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Compressed 'metadata_handler.py' to 733 bytes.
2025-04-25 15:28:48,853 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Attempting send 'metadata_handler.py.zip' to chat ID: -4603853425
2025-04-25 15:28:48,854 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -4603853425
2025-04-25 15:28:50,129 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:28:50,146 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Attempting send 'metadata_handler.py.zip' to chat ID: -1002614397019
2025-04-25 15:28:50,153 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -1002614397019
2025-04-25 15:28:50,993 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:28:50,999 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Attempting send 'metadata_handler.py.zip' to chat ID: -4641852757
2025-04-25 15:28:51,001 - INFO - [send_file_to_telegram] - Sending file 'metadata_handler.py.zip' to Telegram chat ID: -4641852757
2025-04-25 15:28:51,929 - INFO - [send_file_to_telegram] - Telegram API success for 'metadata_handler.py.zip'.
2025-04-25 15:28:51,930 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Single file 'metadata_handler.py' sent successfully to PRIMARY chat ID -4603853425.
2025-04-25 15:28:51,932 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Total successful sends (including backups): 3 / 3
2025-04-25 15:28:51,933 - ERROR - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Inconsistency: Primary send succeeded but failed to extract IDs from its response: {'ok': True, 'result': {'message_id': 871, 'from': {'id': 7812479394, 'is_bot': True, 'first_name': 'Harry Bot', 'username': 'hhhHarryBot'}, 'chat': {'id': -4603853425, 'title': 'AGroup', 'type': 'group', 'all_members_are_administrators': True, 'accepted_gift_types': {'unlimited_gifts': False, 'limited_gifts': False, 'unique_gifts': False, 'premium_subscription': False}}, 'date': 1745575129, 'document': {'file_name': 'metadata_handler.py.zip', 'mime_type': 'application/zip', 'file_id': 'BQACAgUAAxkDAAIDZ2gLXNnR74_aIIaHLick9zPdEQOTAAIKFgACd1RhVBCqj07by0oLNgQ', 'file_unique_id': 'AgADChYAAndUYVQ', 'file_size': 733}}}
2025-04-25 15:28:51,938 - INFO - [load_metadata] - Successfully loaded metadata from 'metadata.json'.
2025-04-25 15:28:51,955 - INFO - [save_metadata] - Successfully saved metadata to 'metadata.json'.
2025-04-25 15:28:51,955 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Generated landing page URL: http://localhost:5000/get/8a4c3d49c7
2025-04-25 15:28:51,956 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Entering final cleanup.
2025-04-25 15:28:51,960 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Successfully deleted original temporary file: uploads_temp\6bf8d043-206f-411b-a550-b83715d49ed7_metadata_handler.py
2025-04-25 15:28:51,963 - INFO - [process_upload_and_generate_updates] - [6bf8d043-206f-411b-a550-b83715d49ed7] Processing finished with status: completed
